{"version":3,"file":"static/js/65.18644fc3.chunk.js","mappings":"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AAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,MAAKF,UAChBJ,EAAAA,EAAAA,KAAA,OAAKM,UAAU,WAEnBN,EAAAA,EAAAA,KAAA,OAAKM,UAAU,M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","sources":["api/commonPipeline.ts","components/EchartCore/EchartCore.tsx","components/TableBox/TableBox.tsx","components/Loading/Loading.tsx","pages/CommonPipeline/D3Tool.ts","pages/CommonPipeline/TreePlusDiagram.tsx","pages/CommonPipeline/TreePlus.tsx","pages/CommonPipeline/CommonPipeline.tsx","pages/CommonPipeline/DWStandard.tsx","pages/CommonPipeline/NodeDetail.tsx"],"sourcesContent":["import { AxiosResponse } from 'axios'\nimport axios, { AxiosResFormat } from '.'\nimport { ILayoutConfig, INodeDetailItem, INodeItem } from '../pages/CommonPipeline/TreePlusInterface'\n\nexport const getNodeRelation = (pipelineId: string): AxiosResFormat<{\n    dag: INodeItem[]\n}> => {\n    return axios.get(`/workflow_modelview/api/web/dag/idc/pipeline/${pipelineId}`)\n}\n\nexport const getPipelineConfig = (pipelineId: string): AxiosResFormat<Array<Record<string, string>>> => {\n    return axios.get(`/workflow_modelview/api/web/layout/idc/pipeline/${pipelineId}`)\n}\n\nexport const getNodeInfo = (pipelineId: string, nodeId: string): AxiosResFormat<{ detail: INodeDetailItem[] }> => {\n    return axios.get(`/workflow_modelview/api/web/node_detail/idc/pipeline/${pipelineId}/${nodeId}`)\n}\n\nexport const getNodeRelationCommon = (url: string): AxiosResFormat<{\n    dag: INodeItem[]\n    layout: ILayoutConfig\n}> => {\n    return axios.get(url)\n}\n\nexport const getNodeInfoCommon = (url: string): AxiosResFormat<{ detail: INodeDetailItem[] }> => {\n    return axios.get(url)\n}\n\nexport const getNodeInfoApi = (url: string): AxiosResFormat<any> => {\n    return axios.get(url)\n}\n","import React, { useEffect, useState } from 'react'\nimport * as echarts from 'echarts';\n// import * as echarts from 'echarts/core';\n// import {\n//     BarChart,\n//     // 系列类型的定义后缀都为 SeriesOption\n//     BarSeriesOption,\n//     PieChart,\n//     PieSeriesOption,\n//     LineChart,\n//     LineSeriesOption,\n//     HeatmapChart,\n//     HeatmapSeriesOption\n// } from 'echarts/charts';\n// import {\n//     TitleComponent,\n//     // 组件类型的定义后缀都为 ComponentOption\n//     TitleComponentOption,\n//     TooltipComponent,\n//     TooltipComponentOption,\n//     GridComponent,\n//     GridComponentOption,\n//     // 数据集组件\n//     DatasetComponent,\n//     DatasetComponentOption,\n//     LegendComponent,\n//     // 内置数据转换器组件 (filter, sort)\n//     TransformComponent,\n//     CalendarComponentOption,\n//     CalendarComponent,\n//     VisualMapComponent,\n//     VisualMapComponentOption,\n//     ToolboxComponent\n// } from 'echarts/components';\nimport { LabelLayout, UniversalTransition } from 'echarts/features';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport './EchartCore.less';\nimport { Spin } from 'antd';\nimport { FieldNumberOutlined } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\n\nexport type ECOption = echarts.EChartsOption\n// 通过 ComposeOption 来组合出一个只有必须组件和图表的 Option 类型\n// export type ECOption = echarts.ComposeOption<\n//     | BarSeriesOption\n//     | LineSeriesOption\n//     | TitleComponentOption\n//     | TooltipComponentOption\n//     | GridComponentOption\n//     | DatasetComponentOption\n//     | CalendarComponentOption\n//     | HeatmapSeriesOption\n//     | VisualMapComponentOption\n//     | PieSeriesOption\n// >;\n\n// // 注册必须的组件\n// echarts.use([\n//     LegendComponent,\n//     TitleComponent,\n//     TooltipComponent,\n//     GridComponent,\n//     DatasetComponent,\n//     TransformComponent,\n//     CalendarComponent,\n//     VisualMapComponent,\n//     ToolboxComponent,\n//     BarChart,\n//     LineChart,\n//     PieChart,\n//     LabelLayout,\n//     HeatmapChart,\n//     UniversalTransition,\n//     CanvasRenderer\n// ]);\n\ninterface IProps {\n    // option: ECOption\n    option: echarts.EChartsOption\n    loading?: boolean\n    title?: string\n    style?: React.CSSProperties\n    unit?: string\n    data?: {\n        xData: any[]\n        yData: any[]\n    }\n    isNoData?: boolean\n}\n\nconst defaultChartStyle: React.CSSProperties = {\n    height: 300\n}\n\n// https://echarts.apache.org/handbook/zh/how-to/data/dynamic-data\nexport default function EchartCore(props: IProps) {\n    const [chartInstance, setChartInstance] = useState<echarts.ECharts>()\n    const id = Math.random().toString(36).substring(2);\n    const { t, i18n } = useTranslation();\n\n    const option = {}\n\n    useEffect(() => {\n        const chartDom = document.getElementById(id)\n        if (chartDom) {\n            const chart = echarts.init(chartDom);\n            chart.setOption({ ...option, ...props.option })\n\n            if (!chartInstance) {\n                setChartInstance(chart)\n            }\n        }\n    }, [props.option, props.data])\n\n    return (\n        <Spin spinning={props.loading}>\n            <div className=\"chart-container\">\n                <div id={id} style={{ ...defaultChartStyle, ...props.style }}></div>\n                {\n                    props.isNoData ? <div className=\"chart-nodata\">\n                        <div>{t('暂无数据')}</div>\n                    </div> : null\n                }\n            </div>\n        </Spin>\n    )\n}\n","import React, { ReactNode, useEffect, useState } from 'react';\nimport { Row, Col, Space, Table, ConfigProvider, Button, Modal, Tabs, message, Checkbox } from 'antd';\nimport './TableBox.less';\nimport { TablePaginationConfig } from 'antd/lib/table/Table';\nimport emptyImg from '../../images/emptyBg.png';\nimport { GetRowKey, SorterResult, TableRowSelection } from 'antd/lib/table/interface';\n// import ExportJsonExcel from 'js-export-excel';\nimport { Resizable } from 'react-resizable';\nimport { useTranslation } from 'react-i18next';\n\nconst CopyToClipboard = require('react-copy-to-clipboard');\n\ninterface IProps {\n\tsize?: 'large' | 'middle' | 'small'\n\ttableKey?: string\n\trowKey?: string | GetRowKey<any>;\n\ttitleNode?: string | ReactNode;\n\tbuttonNode?: ReactNode;\n\tdataSource: any;\n\tcolumns: any;\n\tpagination?: false | TablePaginationConfig;\n\tscroll?:\n\t| ({\n\t\tx?: string | number | true | undefined;\n\t\ty?: string | number | undefined;\n\t} & {\n\t\tscrollToFirstRowOnChange?: boolean | undefined;\n\t})\n\t| undefined;\n\tloading?: boolean;\n\trowSelection?: TableRowSelection<any>;\n\tcancelExportData?: boolean;\n\tonChange?: (\n\t\tpagination: TablePaginationConfig,\n\t\tfilters: Record<string, (string | number | boolean)[] | null>,\n\t\tsorter: SorterResult<any> | SorterResult<any>[],\n\t) => void;\n}\n\nconst ResizableTitle = ({ onResize, width, ...restProps }: any) => {\n\tif (!width) {\n\t\treturn <th {...restProps} />;\n\t}\n\n\treturn (\n\t\t<Resizable\n\t\t\twidth={width}\n\t\t\theight={0}\n\t\t\thandle={\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"react-resizable-handle\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tonResize={onResize}\n\t\t\tdraggableOpts={{ enableUserSelectHack: false }}\n\t\t>\n\t\t\t<th {...restProps} style={{ ...restProps?.style, userSelect: 'none' }} />\n\t\t</Resizable>\n\t);\n};\n\nconst TableBox = (props: IProps) => {\n\tconst [exportDataVisible, setExportDataVisible] = useState(false);\n\tconst [dataFormat, setDataFormat] = useState<{ header: any[]; data: any[] }>({\n\t\theader: [],\n\t\tdata: [],\n\t});\n\tconst [filterValue, setFilterValue] = useState<any[]>([]);\n\n\t// 可伸缩列设置\n\tconst [cols, setCols] = useState(props.columns);\n\tconst handleResize = (index: any) => {\n\t\treturn (_: any, { size }: any) => {\n\t\t\tif (size.width < 100) return\n\t\t\tconst temp = [...cols];\n\t\t\ttemp[index] = { ...temp[index], width: size.width };\n\t\t\tconst tableWidth = temp.reduce((pre: any, next: any) => pre + next.width || 100, 0) + 200\n\t\t\tlocalStorage.setItem(props.tableKey || '', JSON.stringify(temp))\n\t\t\t// console.log(currentTableScroll, temp);\n\t\t\tsetCurrentTableScroll({ ...currentTableScroll, x: tableWidth })\n\t\t\tsetCols(temp);\n\t\t};\n\t};\n\tconst customColumns = cols.map((col: any, index: any) => {\n\t\treturn {\n\t\t\t...col,\n\t\t\twidth: col.width || 200,\n\t\t\tonHeaderCell: (column: any) => {\n\t\t\t\treturn {\n\t\t\t\t\twidth: column.width,\n\t\t\t\t\tonResize: handleResize(index),\n\t\t\t\t};\n\t\t\t},\n\t\t};\n\t});\n\tconst [currentTableScroll, setCurrentTableScroll] = useState(props.scroll)\n\tconst { t, i18n } = useTranslation();\n\n\tuseEffect(() => {\n\t\tsetCols(props.columns);\n\t}, [props.columns]);\n\n\tuseEffect(() => {\n\t\tsetCurrentTableScroll(props.scroll);\n\t}, [props.scroll]);\n\n\tuseEffect(() => {\n\t\tif (props.dataSource) {\n\t\t\tconst columns = props.columns.filter((item: any) => ~filterValue.indexOf(item.dataIndex));\n\t\t\thanddleFilterHeader(columns, props.dataSource);\n\t\t}\n\t}, [props.dataSource, props.columns]);\n\n\tconst customizeRenderEmpty = () => (\n\t\t<Row justify=\"center\" align=\"middle\" style={{ height: 360, flexDirection: 'column' }}>\n\t\t\t<img src={emptyImg} style={{ width: 266 }} alt=\"\" />\n\t\t\t<div>{t('暂无数据')}</div>\n\t\t</Row>\n\t);\n\n\tconst handdleFilterHeader = (dataColumns = [], data: any[]) => {\n\t\tconst columns = dataColumns.map((item: any) => item.dataIndex).filter((item: string) => item !== 'handle');\n\t\tconst sheetHeader = dataColumns.map((item: any) => item.title).filter((item: string) => item !== t('操作'));\n\t\tconst tarData: any = [];\n\n\t\tdata.forEach((dataRow: any) => {\n\t\t\tconst row: any = {};\n\t\t\tcolumns.map((colName: string) => {\n\t\t\t\tconst res = dataRow[colName];\n\t\t\t\trow[colName] = res || '';\n\t\t\t});\n\t\t\ttarData.push(row);\n\t\t});\n\n\t\tsetDataFormat({\n\t\t\theader: sheetHeader,\n\t\t\tdata: tarData,\n\t\t});\n\t};\n\n\t// const handleClickOutputExcel = () => {\n\t// \tconst option: any = {};\n\t// \toption.fileName = 'result';\n\t// \toption.datas = [\n\t// \t\t{\n\t// \t\t\tsheetData: dataFormat.data,\n\t// \t\t\tsheetName: 'sheet',\n\t// \t\t\tsheetHeader: dataFormat.header,\n\t// \t\t},\n\t// \t];\n\t// \tconst toExcel = new ExportJsonExcel(option);\n\t// \ttoExcel.saveExcel();\n\t// };\n\n\tconst handleExportJira = () => {\n\t\tconst header = dataFormat.header;\n\t\tconst data = dataFormat.data;\n\t\tlet str = '';\n\t\tif (header.length && data.length) {\n\t\t\tstr =\n\t\t\t\t'|' +\n\t\t\t\theader.join('|') +\n\t\t\t\t'|' +\n\t\t\t\t`\n`;\n\t\t\tdata.forEach((row: any) => {\n\t\t\t\tconst rowKey = Object.values(row).map((item) => {\n\t\t\t\t\tif (item === '') {\n\t\t\t\t\t\treturn ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tstr =\n\t\t\t\t\tstr +\n\t\t\t\t\t'|' +\n\t\t\t\t\trowKey.join('|') +\n\t\t\t\t\t'|' +\n\t\t\t\t\t`\n`;\n\t\t\t});\n\t\t} else {\n\t\t\tstr = '';\n\t\t}\n\n\t\treturn str;\n\t};\n\n\tconst handleExportText = () => {\n\t\tconst header = dataFormat.header;\n\t\tconst data = dataFormat.data;\n\t\tlet str = '';\n\t\tif (header.length && data.length) {\n\t\t\tstr =\n\t\t\t\theader.join('\t') +\n\t\t\t\t`\n`;\n\t\t\tdata.forEach((row: any) => {\n\t\t\t\tconst rowKey = Object.values(row).map((item) => {\n\t\t\t\t\tif (item === '') {\n\t\t\t\t\t\treturn ' ';\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t\tstr =\n\t\t\t\t\tstr +\n\t\t\t\t\trowKey.join('\t') +\n\t\t\t\t\t`\n`;\n\t\t\t});\n\t\t} else {\n\t\t\tstr = '';\n\t\t}\n\t\treturn str;\n\t};\n\n\treturn (\n\t\t<Space className=\"tablebox\" direction=\"vertical\" size=\"middle\">\n\t\t\t<Modal\n\t\t\t\twidth={1000}\n\t\t\t\tmaskClosable={false}\n\t\t\t\tcentered={true}\n\t\t\t\tbodyStyle={{ maxHeight: 500, overflow: 'auto' }}\n\t\t\t\tvisible={exportDataVisible}\n\t\t\t\ttitle={t('导出数据')}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetExportDataVisible(false);\n\t\t\t\t}}\n\t\t\t\tfooter={null}\n\t\t\t>\n\t\t\t\t<div style={{ position: 'relative' }}>\n\t\t\t\t\t<div className=\"mb16\"><span className=\"pr8\">{t('选择需要导出的列')}：</span><Checkbox.Group\n\t\t\t\t\t\toptions={props.columns\n\t\t\t\t\t\t\t.map((item: any) => ({ label: item.title, value: item.dataIndex }))\n\t\t\t\t\t\t\t.filter((item: any) => item.value !== 'handle')}\n\t\t\t\t\t\tdefaultValue={[]}\n\t\t\t\t\t\tvalue={filterValue}\n\t\t\t\t\t\tonChange={(values: any) => {\n\t\t\t\t\t\t\tsetFilterValue(values);\n\t\t\t\t\t\t\tconst columns = props.columns.filter((item: any) => ~values.indexOf(item.dataIndex));\n\t\t\t\t\t\t\thanddleFilterHeader(columns, props.dataSource);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/></div>\n\t\t\t\t\t<div style={{ position: 'absolute', right: 0, bottom: 0 }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetFilterValue(\n\t\t\t\t\t\t\t\t\tprops.columns\n\t\t\t\t\t\t\t\t\t\t.map((item: any) => item.dataIndex)\n\t\t\t\t\t\t\t\t\t\t.filter((item: any) => item !== 'handle'),\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\thanddleFilterHeader(props.columns, props.dataSource);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('全选')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\ttype=\"link\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetFilterValue([]);\n\t\t\t\t\t\t\t\thanddleFilterHeader([], props.dataSource);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('反选')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Tabs>\n\t\t\t\t\t<Tabs.TabPane tab=\"Wiki格式\" key=\"jira\">\n\t\t\t\t\t\t<CopyToClipboard text={handleExportJira()} onCopy={() => message.success(t('已复制到粘贴板'))}>\n\t\t\t\t\t\t\t<pre style={{ cursor: 'pointer', minHeight: 100 }}>\n\t\t\t\t\t\t\t\t<code>{handleExportJira()}</code>\n\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t</Tabs.TabPane>\n\t\t\t\t\t<Tabs.TabPane tab=\"Text格式\" key=\"test\">\n\t\t\t\t\t\t<CopyToClipboard text={handleExportText()} onCopy={() => message.success(t('已复制到粘贴板'))}>\n\t\t\t\t\t\t\t<pre style={{ cursor: 'pointer', minHeight: 100 }}>\n\t\t\t\t\t\t\t\t<code>{handleExportText()}</code>\n\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t</Tabs.TabPane>\n\t\t\t\t\t{/* <Tabs.TabPane tab=\"Excel格式\" key=\"excel\">\n\t\t\t\t\t\t<Row justify=\"center\" align=\"middle\" style={{ minHeight: 100 }}>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={handleClickOutputExcel}>\n\t\t\t\t\t\t\t\t\t导出Excel\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Tabs.TabPane> */}\n\t\t\t\t</Tabs>\n\t\t\t</Modal>\n\t\t\t{\n\t\t\t\tprops.titleNode || props.buttonNode || !props.cancelExportData ? <Row justify=\"space-between\" align=\"middle\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Space align=\"center\">{props.titleNode}</Space>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Space align=\"center\">\n\t\t\t\t\t\t\t{props.buttonNode}\n\t\t\t\t\t\t\t{props.cancelExportData ? null : (\n\t\t\t\t\t\t\t\t<Button style={{ marginLeft: 6 }} onClick={() => setExportDataVisible(true)}>\n\t\t\t\t\t\t\t\t\t{t('导出数据')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Space>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row> : null\n\t\t\t}\n\t\t\t<ConfigProvider renderEmpty={customizeRenderEmpty}>\n\t\t\t\t<Table\n\t\t\t\t\tsize={props.size || 'middle'}\n\t\t\t\t\trowKey={props.rowKey ? props.rowKey : 'id'}\n\t\t\t\t\tdataSource={props.dataSource}\n\t\t\t\t\t// columns={props.columns}\n\t\t\t\t\tcomponents={{ header: { cell: ResizableTitle } }}\n\t\t\t\t\tcolumns={customColumns}\n\t\t\t\t\tpagination={props.pagination !== false ? { ...props.pagination } : false}\n\t\t\t\t\tscroll={currentTableScroll}\n\t\t\t\t\tloading={props.loading}\n\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t\trowSelection={props.rowSelection}\n\t\t\t\t/>\n\t\t\t</ConfigProvider>\n\t\t</Space>\n\t);\n};\n\nexport default TableBox;\n","import React from 'react'\nimport './Loading.less';\n\nexport default function Loading() {\n    return (\n        <div className=\"dna p-a\" style={{ left: -180 }}>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n            <div className=\"ele\">\n                <div className=\"dot\"></div>\n            </div>\n        </div>\n    )\n}\n","import * as d3 from 'd3';\nimport d3TipF from 'd3-tip';\nconst d3Tip: any = d3TipF;\n\nexport interface ID3ToolParams {\n\tcontainerId: string;\n\tmainViewId: string;\n\tmargin?: number;\n}\n\nexport interface IRect {\n\tcenter: number[]\n\tcoordList: Array<{ x: number, y: number }>\n\theight: number\n\twidth: number\n\tx0: number\n\tx1: number\n\tx2: number\n\tx3: number\n\ty0: number\n\ty1: number\n\ty2: number\n\ty3: number\n}\n\ntype TD3NodeDom = d3.Selection<SVGGElement, unknown, HTMLElement, any>;\n\nexport default class D3Tool {\n\tpublic container: HTMLElement;\n\tpublic scaleView: TD3NodeDom;\n\tpublic mainView: TD3NodeDom;\n\tpublic gNode: TD3NodeDom;\n\tpublic gLink: TD3NodeDom;\n\tpublic gText: TD3NodeDom;\n\tpublic gBorder: TD3NodeDom;\n\tpublic gTextCache: TD3NodeDom;\n\tpublic innerWidth: number;\n\tpublic innerHeight: number;\n\tpublic tip: any;\n\tpublic fontSize = 14;\n\tpublic zoom: d3.ZoomBehavior<any, any>;\n\tpublic currentNode: any;\n\tpublic margin: number;\n\n\tconstructor({ containerId, mainViewId, margin = 0 }: ID3ToolParams) {\n\t\tconst _selfThis = this;\n\n\t\tthis.margin = margin;\n\t\tthis.container = document.getElementById(containerId) as HTMLElement;\n\t\tthis.mainView = d3.select(`#${mainViewId}`);\n\t\tthis.scaleView = this.mainView.append('g').attr('id', 'scaleView');\n\t\tthis.scaleView.attr('style', 'transition:all .3s');\n\n\t\tconst marginObj = { top: margin, right: margin, bottom: margin, left: margin };\n\t\tconst innerWidth = this.container.scrollWidth - marginObj.top - marginObj.bottom;\n\t\tconst innerHeight = this.container.scrollHeight - marginObj.left - marginObj.right;\n\t\t// 设置视图区域大小\n\t\tthis.mainView\n\t\t\t.attr('width', innerWidth)\n\t\t\t.attr('height', innerHeight)\n\t\t\t.attr('viewBox', `0 0 ${innerWidth} ${innerHeight}`)\n\t\t\t.attr('transform', `translate(${marginObj.left}, ${marginObj.top})`)\n\t\t// .attr('transition', 'all .3s');\n\t\t// .on('click', () => {\n\t\t// \tthis.tip.hide();\n\t\t// });\n\t\tthis.gTextCache = this.mainView.append('g').attr('id', 'gTextCache');\n\t\tthis.gBorder = this.scaleView.append('g').attr('id', 'gBorder');\n\t\tthis.gText = this.scaleView.append('g').attr('id', 'gText');\n\t\tthis.gLink = this.scaleView.append('g').attr('id', 'gLink');\n\t\tthis.gNode = this.scaleView\n\t\t\t.append('g')\n\t\t\t.attr('id', 'gNode')\n\t\t\t.attr('cursor', 'pointer')\n\t\t\t.attr('pointer-events', 'all')\n\t\t\t.attr(\"transform\", `translate(0 ${innerHeight * 0.2}) scale(.5,.5)`);\n\t\t// 设置箭头工具\n\t\tconst defs = this.scaleView.append('defs').attr('id', 'gDefs');\n\t\tdefs.append('marker')\n\t\t\t.attr('id', 'arrowRight')\n\t\t\t.attr('viewBox', '-10 -10 20 20')\n\t\t\t.attr('refX', 10)\n\t\t\t.attr('refY', 0)\n\t\t\t.attr('markerWidth', 6)\n\t\t\t.attr('markerHeight', 6)\n\t\t\t.attr('orient', 'auto')\n\t\t\t.append('path')\n\t\t\t.attr('d', 'M -10,-10 L 10,0 L -10,10')\n\t\t\t.attr('fill', '#cdcdcd')\n\t\t\t.attr('stroke-width', 2)\n\t\t\t.attr('stroke', '#cdcdcd');\n\t\t// 创建提示插件\n\t\tconst tip = d3Tip();\n\t\ttip.attr('class', 'd3-tip').html(function (d: any) {\n\t\t\treturn d;\n\t\t});\n\t\tthis.tip = tip;\n\t\tthis.mainView.call(tip);\n\t\t// 创建缩放插件\n\t\tconst zoom = d3\n\t\t\t.zoom()\n\t\t\t.scaleExtent([0.1, 2])\n\t\t\t// .scale(2)\n\t\t\t// .on(\"dblclick\", null)\n\t\t\t.on('zoom', (e: any) => {\n\t\t\t\t// console.log('graphviz zoomed with event:', e);\n\t\t\t\t// fix\n\t\t\t\t// const transform = d3.event.transform;\n\t\t\t\tconst transform = e.transform\n\t\t\t\t_selfThis.scaleView.attr('style', 'transition:all 0s').attr('transform', transform);\n\t\t\t\t_selfThis.tip.hide()\n\t\t\t}).on(\"end\", () => {\n\t\t\t\t_selfThis.scaleView.attr('style', 'transition:all 0.3s')\n\t\t\t}) as d3.ZoomBehavior<any, any>;\n\n\t\tthis.zoom = zoom;\n\t\tthis.mainView\n\t\t\t.call(zoom as any)\n\t\t\t.call(zoom.transform, d3.zoomIdentity.translate(0, 0).scale(1))\n\t\t\t.on(\"dblclick.zoom\", null);\n\n\t\tthis.innerHeight = innerHeight;\n\t\tthis.innerWidth = innerWidth;\n\t}\n\n\t/**\n\t *重新调整画布尺寸\n\t *\n\t * @memberof CostMap\n\t */\n\tpublic reSize() {\n\t\tthis.mainView.attr('width', 0).attr('height', 0).attr('viewBox', `0 0 ${0} ${0}`);\n\n\t\tconst marginObj = { top: this.margin, right: this.margin, bottom: this.margin, left: this.margin };\n\t\tconst innerWidth = this.container.scrollWidth - marginObj.top - marginObj.bottom;\n\t\tconst innerHeight = this.container.scrollHeight - marginObj.left - marginObj.right;\n\n\t\tconsole.log(this.container.scrollWidth, this.container.scrollHeight);\n\n\t\tthis.mainView\n\t\t\t.attr('width', innerWidth)\n\t\t\t.attr('height', innerHeight)\n\t\t\t.attr('viewBox', `0 0 ${innerWidth} ${innerHeight}`);\n\n\t\tthis.innerHeight = innerHeight;\n\t\tthis.innerWidth = innerWidth;\n\t}\n\n\t/**\n\t *获取文字rect dom\n\t *\n\t * @param {string} textStr\n\t * @param {number} [fontSize=14]\n\t * @returns {{ width: number; height: number }}\n\t * @memberof CostMap\n\t */\n\tpublic getTextRect(textStr: string, fontSize = 14): { width: number; height: number } {\n\t\tconst textDom = this.gTextCache.append('text').text(textStr).attr('font-size', `${fontSize}px`);\n\t\tconst textBox = textDom.node()?.getBBox();\n\t\tconst rect = {\n\t\t\twidth: textBox?.width || 0,\n\t\t\theight: textBox?.height || 0,\n\t\t};\n\t\ttextDom.remove();\n\t\treturn rect;\n\t}\n\n\t/**\n\t * 列表转树\n\t * @param data \n\t */\n\tpublic list2Tree = <T>(data: Array<T>): Array<T> => {\n\t\tconst res: T[] = [];\n\t\tconst withoutChildrenDataList = data.map((item: any) => {\n\t\t\tif (item.children) {\n\t\t\t\tdelete item.children;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tconst dataMap = this.list2Map(withoutChildrenDataList, 'ci_id');\n\t\tlet root: any;\n\t\tfor (let i = 0; i < withoutChildrenDataList.length; i++) {\n\t\t\tconst item = withoutChildrenDataList[i];\n\t\t\tif (item.parentId !== undefined) {\n\t\t\t\tconst parent = dataMap.get(item.parentId);\n\t\t\t\tif (parent.children) {\n\t\t\t\t\tparent.children.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tparent.children = [item];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\troot = dataMap.get(item.ci_id);\n\t\t\t}\n\t\t}\n\t\tres.push(root);\n\t\treturn res;\n\t};\n\n\t/**\n\t * 树形结构扁平化\n\t * @param data \n\t * @param key \n\t */\n\tpublic tree2List = <T>(data: Array<T>, key = 'children'): Array<T> => {\n\t\tconst quene = [...data];\n\t\tconst res: T[] = [];\n\t\twhile (quene.length) {\n\t\t\tconst item: any = quene.shift();\n\t\t\tres.push(item);\n\t\t\tif (item && item[key]) {\n\t\t\t\tquene.push(...item[key]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\t/**\n\t * 列表转字典\n\t * @param list \n\t * @param key \n\t * @param isReplace \n\t */\n\tpublic list2Map = <T>(list: T[], key: string, isReplace = false): Map<string, T> => {\n\t\tconst map: Map<string, T> = new Map();\n\t\tfor (let i = 0; i < list.length; i++) {\n\t\t\tconst item: any = list[i];\n\t\t\tif (item && item[key] && (isReplace || !map.get(item[key]))) {\n\t\t\t\tmap.set(item[key], item);\n\t\t\t}\n\t\t}\n\t\treturn map;\n\t};\n\n\t/**\n\t * 树型结构剪枝\n\t * @param data \n\t * @param key \n\t * @param id \n\t */\n\tpublic treeCutNode = <T>(data: T[], key = 'children', matchKey = 'id', id?: string): T[] => {\n\t\tif (id === undefined) return data\n\n\t\tconst dfs = <T>(data: T[]): T[] => {\n\t\t\tconst res: T[] = []\n\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\tconst item: any = data[i];\n\t\t\t\tconst tarItem = { ...item }\n\t\t\t\tif (item[key] && item[key].length) {\n\t\t\t\t\tif (item[matchKey] === id) {\n\t\t\t\t\t\ttarItem[key] = []\n\t\t\t\t\t\tres.push(tarItem)\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarItem[key] = dfs(item[key])\n\t\t\t\t\t\tres.push(tarItem)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tres.push(tarItem)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res\n\t\t}\n\n\t\tconst treeCutAfter = dfs(data)\n\t\treturn treeCutAfter\n\t}\n\n\tpublic parse2Rectangle = (coords: string = '0,0 2,0 2,2 0,2') => {\n\t\tconst coordList = coords.split(' ').map(coord => {\n\t\t\tconst [x, y] = coord.split(',')\n\t\t\treturn { x: +x, y: +y }\n\t\t})\n\t\tconst rectSourceObj: any = coordList.reduce((pre, next, currentIndex) => {\n\t\t\tlet tar: any = { ...pre }\n\t\t\ttar[`x${currentIndex}`] = next.x\n\t\t\ttar[`y${currentIndex}`] = next.y\n\t\t\treturn tar\n\t\t}, {})\n\t\tconst width = rectSourceObj.x1 - rectSourceObj.x0\n\t\tconst height = rectSourceObj.y3 - rectSourceObj.y0\n\t\tconst res: IRect = {\n\t\t\tcoordList,\n\t\t\t...rectSourceObj,\n\t\t\twidth: Math.abs(width),\n\t\t\theight: Math.abs(height),\n\t\t\tcenter: [width / 2, height / 2]\n\t\t}\n\t\treturn res\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-invalid-this */\n/* eslint-disable @typescript-eslint/no-this-alias */\nimport * as d3 from 'd3';\nimport D3Tool, { ID3ToolParams } from './D3Tool';\nimport { graphviz } from 'd3-graphviz';\nimport React from 'react';\nimport { INodeItem } from './TreePlusInterface';\n// 防止被treeShaking\nconst graphvizName = graphviz.name;\n\ninterface IThemeColor {\n\tbackground: string;\n\tcolor: string;\n\tborder: string;\n\tactiveColor?: string;\n\tactiveBackground?: string;\n\tdisabled?: string\n\tdisabledColor?: string\n}\n\ninterface IPreHandleNode extends INodeItem {\n\trelativeKey: 'parent' | 'children'\n\tkey: string\n\tlevel: number;\n\tchildren: IPreHandleNode[],\n\tparent: IPreHandleNode[]\n\tcollectNum?: number\n\tcollectionNodes?: IPreHandleNode[]\n\texpandsNumParent?: number\n\tcollectionParent?: IPreHandleNode[]\n\texpandsNumChildren?: number\n\tcollectionChildren?: IPreHandleNode[]\n\tisCollectionNode?: boolean\n\tdata_fields: string\n}\n\ninterface IRenderNode {\n\tid: string | number;\n\tx: string | number;\n\ty: string | number;\n\trenderId: string | number;\n\tdata?: IPreHandleNode\n\ttheme: IThemeColor\n\trenderInfo?: any\n}\n\nconst NodeTypeList = ['ROOT', 'BUSINESS', 'THEME', 'COLLECT']\n\nconst ThemeColor: IThemeColor[] = [\n\t{ background: '#00d4001a', color: '#00d400', border: '#00d400', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#00d4c81a', color: '#00d4c8', border: '#00d4c8', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#0000d41a', color: '#0000d4', border: '#0000d4', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#c800d41a', color: '#c800d4', border: '#c800d4', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#d464001a', color: '#d46400', border: '#d46400', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\n\t{ background: '#96d4001a', color: '#96d400', border: '#96d400', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#00d4961a', color: '#00d496', border: '#00d496', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#0096d41a', color: '#0096d4', border: '#0096d4', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#6400d41a', color: '#6400d4', border: '#6400d4', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#d400001a', color: '#d40000', border: '#d40000', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n\t{ background: '#d4c8001a', color: '#d4c800', border: '#d4c800', activeColor: '#0078d4', disabled: '#cdcdcd1a', disabledColor: '#cdcdcd' },\n];\n\nconst nodeTypeThemeMap: Record<string, IThemeColor> = NodeTypeList.reduce((pre, next, index) => ({ ...pre, [next]: ThemeColor[index % ThemeColor.length] }), {})\n\ninterface IRelationDiagramProps extends ID3ToolParams {\n\tisCollection?: boolean\n}\n\nexport default class RelationDiagram extends D3Tool {\n\n\tpublic dataMap = new Map<string, IPreHandleNode>();\n\tpublic dataMapByName = new Map<string, IPreHandleNode>();\n\tpublic renderNodesMap = new Map<string, IRenderNode>();\n\tpublic nodesInGraphMap = new Map<string, IPreHandleNode>();\n\tpublic nodesInCollectionMap = new Map<string, IPreHandleNode>();\n\tpublic dataNodes: IPreHandleNode[] = [];\n\tpublic activeNodeId?: string;\n\tpublic rootNode?: IPreHandleNode\n\tpublic handleNodeClick?: ((node: any) => void);\n\tpublic loadingStart?: (() => void);\n\tpublic loadingEnd?: (() => void);\n\tprivate isCollection?: boolean\n\n\tconstructor({ containerId, mainViewId, margin = 0, isCollection }: IRelationDiagramProps) {\n\t\tsuper({ containerId, mainViewId, margin });\n\t\tthis.isCollection = !!isCollection\n\t}\n\n\tpublic htmlStrEnCode = (str: string) => {\n\t\tconst res = `${str}`.replace(/[\\u00A0-\\u9999<>\\-\\&\\:]/g, function (i) {\n\t\t\treturn '&#' + i.charCodeAt(0) + ';';\n\t\t})\n\t\treturn res\n\t}\n\n\tpublic enCodeNodeId(id: string) {\n\t\treturn `node_${id.split('').map(item => item.charCodeAt(0)).join('')}`\n\t}\n\n\tpublic deCodeNodeId(id: string) {\n\t\tconst sourceId = id.replace(/^node_/, '').replaceAll('_rep_', ':').replaceAll('_mid_', '-')\n\t\treturn this.htmlStrEnCode(sourceId)\n\t}\n\n\n\tpublic preHandleNodes(nodes: INodeItem[], relativeKey: 'children' | 'parent' = 'children'): IPreHandleNode[] {\n\t\tconst nodesMapByKey = new Map<string | number, IPreHandleNode>()\n\t\tconst nodesMapById = new Map<string | number, IPreHandleNode>()\n\t\t// const rootId = this.enCodeNodeId((nodes[0] || {}).nid || '')\n\t\tconst rootIds = nodes.map((node, index) => `node_${relativeKey}_${index}`)\n\t\tconst childrenKey = relativeKey\n\t\tconst parentKey = relativeKey === 'children' ? 'parent' : 'children'\n\n\t\t// 处理树结构上的每一个节点\n\t\tconst dfs = (nodes: INodeItem[], level = 0, upItem?: IPreHandleNode, idPath: string[] = []): IPreHandleNode[] => {\n\t\t\tconst res: IPreHandleNode[] = [];\n\n\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\tconst node = nodes[i];\n\t\t\t\tidPath.push(`${i}`)\n\t\t\t\tconst encodeKey = this.htmlStrEnCode(node.nid)\n\t\t\t\tlet key = `node_${relativeKey}_${idPath.join('_')}`\n\n\t\t\t\tconst nodeCacheById = nodesMapById.get(node.nid)\n\t\t\t\tif (nodeCacheById) {\n\t\t\t\t\tkey = nodeCacheById.key\n\t\t\t\t}\n\t\t\t\tconst nodeCache = nodesMapByKey.get(key)\n\n\t\t\t\tlet tarNode: IPreHandleNode = {\n\t\t\t\t\t...node,\n\t\t\t\t\tkey,\n\t\t\t\t\tlevel,\n\t\t\t\t\trelativeKey,\n\t\t\t\t\t// 构建双向链表结构\n\t\t\t\t\t[parentKey]: upItem ? [upItem] : [],\n\t\t\t\t\t[childrenKey]: []\n\t\t\t\t} as IPreHandleNode\n\n\t\t\t\t// 处理已经遍历过得情况\n\t\t\t\tif (nodeCache) {\n\t\t\t\t\tconst flag = nodeCache[parentKey].map(node => node.key).includes(upItem?.key || '')\n\t\t\t\t\t// const flag = false\n\t\t\t\t\tif (flag) {\n\t\t\t\t\t\ttarNode = nodeCache\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarNode = {\n\t\t\t\t\t\t\t...nodeCache,\n\t\t\t\t\t\t\t// 构建双向链表结构\n\t\t\t\t\t\t\t[parentKey]: [upItem, ...nodeCache[parentKey]],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (node[childrenKey] && node[childrenKey]?.length) {\n\t\t\t\t\tdfs(node[childrenKey] || [], level + 1, tarNode, idPath)\n\t\t\t\t}\n\n\t\t\t\tnodesMapByKey.set(tarNode.key, tarNode)\n\t\t\t\tnodesMapById.set(tarNode.nid, tarNode)\n\t\t\t\tres.push(tarNode);\n\n\t\t\t\tidPath.pop()\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\tdfs(nodes)\n\n\t\t// 节点重构建\n\t\tnodesMapByKey.forEach(item => {\n\t\t\tconst currentItemList = item[parentKey]\n\t\t\tfor (let i = 0; i < currentItemList.length; i++) {\n\t\t\t\tconst currentItem = currentItemList[i];\n\t\t\t\tconst itemId = currentItem.key\n\t\t\t\tconst tarItem = nodesMapByKey.get(itemId)\n\t\t\t\tif (tarItem) {\n\t\t\t\t\ttarItem[childrenKey].push(item)\n\t\t\t\t\tnodesMapByKey.set(itemId, tarItem)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 更新当前节点关系\n\t\t\titem[parentKey] = item[parentKey].map(node => nodesMapByKey.get(node.key)) as IPreHandleNode[]\n\t\t\tnodesMapByKey.set(item.key, item)\n\t\t})\n\n\t\tconst rootNode = rootIds.map(rootId => nodesMapByKey.get(rootId) as IPreHandleNode)\n\t\tconst res = rootNode ? [...rootNode] : []\n\n\t\treturn res;\n\t}\n\n\tpublic initData<T extends INodeItem>(data: T[]) {\n\t\t// 初始化\n\t\tthis.nodesInCollectionMap = new Map()\n\t\tthis.dataNodes = []\n\n\t\tconsole.log('data', data);\n\n\t\t// 这一步之后已经构建了完整的链路关系\n\t\tconst preHandlePreData: IPreHandleNode[] = this.preHandleNodes(data, 'parent');\n\t\tconst preHandleNextData: IPreHandleNode[] = this.preHandleNodes(data, 'children');\n\n\t\tconsole.log('preHandleNextData', preHandleNextData);\n\n\t\t// if (this.isCollection) {\n\t\t// \tthis.handleCollectionNodes(preHandlePreData, 'parent')\n\t\t// \tthis.handleCollectionNodes(preHandleNextData, 'children')\n\t\t// }\n\n\t\t// 合并根节点\n\t\t// const [preRoot] = preHandlePreData\n\t\t// const [nextRoot] = preHandleNextData\n\t\t// if (preRoot && nextRoot) {\n\t\t// \tpreHandlePreData[0].key = `node_0`\n\t\t// \tpreHandlePreData[0].children = nextRoot.children\n\t\t// \tpreHandlePreData[0].expandsNumChildren = nextRoot.expandsNumChildren\n\t\t// \tpreHandlePreData[0].collectionChildren = nextRoot.collectionChildren\n\n\t\t// \tpreHandleNextData[0].key = `node_0`\n\t\t// \tpreHandleNextData[0].parent = preRoot.parent\n\t\t// \tpreHandleNextData[0].expandsNumParent = preRoot.expandsNumParent\n\t\t// \tpreHandleNextData[0].collectionParent = preRoot.collectionParent\n\t\t// }\n\n\t\t// 合并根节点\n\t\tfor (let i = 0; i < preHandleNextData.length; i++) {\n\t\t\tpreHandleNextData[i].key = `node_${i}`;\n\t\t\tpreHandleNextData[i].parent = preHandlePreData[i].parent\n\t\t}\n\n\t\tconst rootNode = preHandleNextData[0];\n\t\tconst preHandleData = preHandleNextData\n\t\tthis.rootNode = rootNode;\n\n\t\tconst preRenderData = this.preRenderDataReady(preHandleData)\n\n\t\tconsole.log('preRenderData', preRenderData);\n\n\t\tthis.renderNode(preRenderData).then(() => {\n\t\t\t// if (rootNode) {\n\t\t\t// \tthis.anchorNode(rootNode.key);\n\t\t\t// }\n\t\t\tthis.centerApp()\n\t\t})\n\t}\n\n\tpublic preRenderDataReady(nodes?: IPreHandleNode[]) {\n\n\t\tif (nodes?.length) {\n\t\t\t// 扁平化\n\t\t\tconst preData = this.tree2List(nodes, 'parent');\n\t\t\tconst nextData = this.tree2List(nodes, 'children');\n\t\t\tconst targetData = [...preData, ...nextData];\n\n\t\t\t// 构建图的Map\n\t\t\tconst targetDataMap = this.list2Map(targetData, 'key');\n\t\t\tconst targetDataMapByName = this.list2Map(targetData, 'node_name');\n\t\t\tconst dataNodes: IPreHandleNode[] = [];\n\t\t\ttargetDataMap.forEach((item) => {\n\t\t\t\tdataNodes.push(item);\n\t\t\t});\n\t\t\tthis.dataMap = targetDataMap;\n\t\t\tthis.dataMapByName = targetDataMapByName;\n\t\t\tthis.dataNodes = dataNodes;\n\t\t} else {\n\t\t\tthis.dataNodes = []\n\t\t}\n\t\treturn this.dataNodes\n\t}\n\n\t/**\n\t * 构造渲染节点\n\t * @param nodes \n\t */\n\tpublic createRenderNodes(nodes: IPreHandleNode[], isDisable?: boolean): string[] {\n\n\t\tconst res = nodes.map((node) => {\n\t\t\tconst isInCollection = this.nodesInCollectionMap.get(node.key)\n\t\t\tif (!isInCollection) {\n\t\t\t\tif (node.data_fields === 'COLLECT') {\n\t\t\t\t\treturn `${node['key']}\n\t\t\t\t\t[label=\"聚合节点，剩余${node.collectNum}个节点(双击展开) + \",\n\t\t\t\t\t\tshape=box,\n\t\t\t\t\t\tstyle=dashed,\n\t\t\t\t\t\tmargin=0,\n\t\t\t\t\t\tid=${node.key}\n\t\t\t\t\t];`;\n\t\t\t\t}\n\n\t\t\t\treturn `${node['key']}\n\t\t\t\t\t[label=\"占位符占位符占位${node.key}\",\n\t\t\t\t\t\tshape=box,\n\t\t\t\t\t\twidth=8,\n\t\t\t\t\t\theight=0.8,\n\t\t\t\t\t\tmargin=0,\n\t\t\t\t\t\tid=${node.key}\n\t\t\t\t\t];`;\n\t\t\t} else {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t});\n\t\treturn res.filter(item => !!item)\n\t}\n\n\t/**\n\t * 构造渲染关系（边）\n\t * @param nodes \n\t */\n\tpublic cerateRenderNodesRelation(nodes: IPreHandleNode[]) {\n\t\tconst res: string[] = [];\n\t\tnodes.forEach((node) => {\n\t\t\tconst { parent, children } = node;\n\n\t\t\t(parent || []).forEach((parent: any) => {\n\t\t\t\tconst isInCollection = this.nodesInCollectionMap.get(node.key) || this.nodesInCollectionMap.get(parent.key)\n\t\t\t\tif (!isInCollection) {\n\t\t\t\t\tconst tar = `\n\t\t\t\t\t${(parent.key)}->${(node.key)} [id=\"edgePre_${(parent.key)}_edge_${(node.key)}\"];`;\n\t\t\t\t\tif (res.indexOf(tar) === -1) {\n\t\t\t\t\t\tres.push(tar);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t(children || []).forEach((child: any) => {\n\t\t\t\tconst isInCollection = this.nodesInCollectionMap.get(node.key) || this.nodesInCollectionMap.get(child.key)\n\t\t\t\tif (!isInCollection) {\n\t\t\t\t\tconst tar = `\n\t\t\t\t\t${(node.key)}->${(child.key)} [id=\"edgePre_${(node.key)}_edge_${(child.key)}\"];`;\n\t\t\t\t\tif (res.indexOf(tar) === -1) {\n\t\t\t\t\t\tres.push(tar);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn res;\n\t}\n\n\t/**\n\t * 渲染后处理，事件绑定等等\n\t */\n\tpublic backRenderHandle() {\n\t\tconst _selfThis = this;\n\t\tconst renderNodesMap = new Map<string, IRenderNode>();\n\t\t// 去掉多余的提示信息\n\t\td3.selectAll('title').remove()\n\n\t\td3.selectAll('.node').each((item: any) => {\n\t\t\ttry {\n\t\t\t\tconst key = item.key;\n\t\t\t\tconst nodeData = this.dataMap?.get(key)\n\t\t\t\tconst currentColorTheme = nodeTypeThemeMap[nodeData?.data_fields || ''] || ThemeColor[0]\n\t\t\t\tconst box: any = d3.selectAll(`#${key} polygon`).datum();\n\t\t\t\tconst tar = {\n\t\t\t\t\trenderInfo: item,\n\t\t\t\t\trenderId: key,\n\t\t\t\t\tdata: nodeData,\n\t\t\t\t\ttheme: currentColorTheme,\n\t\t\t\t\tid: key,\n\t\t\t\t\tx: box.center.x,\n\t\t\t\t\ty: box.center.y,\n\t\t\t\t};\n\t\t\t\trenderNodesMap.set(key, tar);\n\n\t\t\t\td3.selectAll(`#${key} text[fill=\"#000000\"]`).attr('type', `mainText`);\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\n\t\t\t// 调试位置坐标\n\t\t\t// d3.selectAll(`#${nodeId}`)\n\t\t\t// \t.append('g')\n\t\t\t// \t.append('text')\n\t\t\t// \t.text(`${box.attributes.x},${box.attributes.y}`)\n\t\t\t// \t.attr('fill', '#ff0000')\n\t\t\t// \t.attr('x', box.attributes.x)\n\t\t\t// \t.attr('y', box.attributes.y + 300);\n\t\t});\n\n\t\tthis.renderNodesMap = renderNodesMap;\n\n\t\tthis.beautifulNode()\n\n\t\tlet tipsContent: JSX.Element;\n\n\t\t// d3.selectAll('.node')\n\t\t// \t.on('mouseenter', function (node: any, d: any) {\n\t\t// \t\tconst key = node.key;\n\t\t// \t\tconst curNode = _selfThis.dataMap?.get(Number(key));\n\t\t// \t\ttipsContent = (\n\t\t// \t\t\t<div>\n\t\t// \t\t\t\t<div className=\"pb12 d-f jc-b ac fs16\">\n\t\t// \t\t\t\t\t<strong>详情</strong>\n\t\t// \t\t\t\t</div>\n\t\t// \t\t\t\t<div>{123}</div>\n\t\t// \t\t\t</div>\n\t\t// \t\t);\n\t\t// \t\t_selfThis.tip\n\t\t// \t\t\t.offset([0, 0])\n\t\t// \t\t\t.show(ReactDOMServer.renderToString(tipsContent), this);\n\t\t// \t})\n\t\t// \t.on('mouseleave', function (node: any, d: any) {\n\t\t// \t\t_selfThis.tip.hide();\n\t\t// \t});\n\n\t\t// d3.select('.d3-tip')\n\t\t// \t.on('mouseenter', function (node: any, d: any) {\n\t\t// \t\t_selfThis.tip.show(ReactDOMServer.renderToString(tipsContent));\n\t\t// \t})\n\t\t// \t.on('mouseleave', function (node: any, d: any) {\n\t\t// \t\t_selfThis.tip.hide();\n\t\t// \t});\n\n\n\t\t// 区分单双击事件\n\t\tlet timeout: any = null;\n\t\td3.selectAll('.node[type=\"collect\"]')\n\t\t\t.on('click', function (node: any, d: any) {\n\t\t\t\tclearTimeout(timeout);\n\n\t\t\t\ttimeout = setTimeout(function () {\n\t\t\t\t\t_selfThis.handleNodeClick && _selfThis.handleNodeClick(node)\n\t\t\t\t}, 200)\n\t\t\t})\n\t\t// .on('dblclick', function (node: any, d: any) {\n\t\t// \tclearTimeout(timeout);\n\n\t\t// \t_selfThis.handleCollectExpand(node.key)\n\n\t\t// \tconst rootNode = _selfThis.dataMap?.get(_selfThis.rootNode?.key || '') as IPreHandleNode\n\t\t// \tconst preRenderData = _selfThis.preRenderDataReady(rootNode)\n\t\t// \t_selfThis.renderNode(preRenderData).then(() => { })\n\t\t// })\n\n\t\tconst d3MainView = document.getElementById('d3MainView')\n\t\tif (d3MainView) {\n\t\t\td3MainView.onclick = (e: any) => {\n\t\t\t\tlet isNode = false\n\t\t\t\tfor (let i = 0; i < e.path.length; i++) {\n\t\t\t\t\tconst elem = e.path[i];\n\t\t\t\t\tif (elem.id && ~elem.id.indexOf('node_')) {\n\t\t\t\t\t\tisNode = true\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!isNode) {\n\t\t\t\t\t_selfThis.refresh()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic beautifulNode() {\n\t\tconst _selfThis = this\n\t\tconst boxs = d3.selectAll('.node polygon').data()\n\n\t\tconsole.log('boxs', boxs);\n\n\t\tboxs.forEach((item: any) => {\n\t\t\tconst box = item.bbox\n\t\t\tconst pid = item.parent.key\n\t\t\tconst nodeData = this.dataMap?.get(pid)\n\n\t\t\tif (nodeData) {\n\t\t\t\td3.select(`#${pid}`).remove()\n\t\t\t\td3.select('#mainGroup')\n\t\t\t\t\t.append('g')\n\t\t\t\t\t.attr('id', pid)\n\t\t\t\t\t.attr('class', 'node')\n\t\t\t\t\t.attr('type', 'normal')\n\t\t\t\t\t.on('click', function (node: any, d: any) {\n\t\t\t\t\t\tconst dataNode = _selfThis.renderNodesMap?.get(this.id)\n\t\t\t\t\t\tif (dataNode) {\n\t\t\t\t\t\t\t_selfThis.highlightRelation(dataNode)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_selfThis.handleNodeClick && _selfThis.handleNodeClick(dataNode?.data)\n\t\t\t\t\t})\n\t\t\t\t\t.append('rect')\n\t\t\t\t\t.attr('id', `rect_${pid}`)\n\t\t\t\t\t.attr('x', box.x)\n\t\t\t\t\t.attr('y', box.y)\n\t\t\t\t\t.attr('rx', box.height / 2)\n\t\t\t\t\t.attr('ry', box.height / 2)\n\t\t\t\t\t.attr('width', box.width)\n\t\t\t\t\t.attr('height', box.height)\n\t\t\t\t\t.attr('fill', '#fff')\n\t\t\t\t\t.attr('stroke', '#cdcdcd')\n\t\t\t\t\t.attr('stroke-width', 1)\n\t\t\t\t\t.attr('style', 'transition:all 0.3s;')\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('path')\n\t\t\t\t\t.attr('d', `M${box.x} ${box.cy} L${box.x + box.width * 2 / 3} ${box.cy}`)\n\t\t\t\t\t.attr('stroke', '#cdcdcd')\n\t\t\t\t\t.attr('stroke-dasharray', '5,5')\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('rect')\n\t\t\t\t\t.attr('class', 'rectBg')\n\t\t\t\t\t.attr('x', box.x)\n\t\t\t\t\t.attr('y', box.y)\n\t\t\t\t\t.attr('rx', box.height / 2)\n\t\t\t\t\t.attr('ry', box.height / 2)\n\t\t\t\t\t.attr('width', box.height)\n\t\t\t\t\t.attr('height', box.height)\n\t\t\t\t\t.attr('fill', nodeData.color)\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('rect')\n\t\t\t\t\t.attr('class', 'rectBg')\n\t\t\t\t\t.attr('id', `iconRect_${pid}`)\n\t\t\t\t\t.attr('x', box.x + box.height / 4)\n\t\t\t\t\t.attr('y', box.y)\n\t\t\t\t\t.attr('rx', box.height / 2)\n\t\t\t\t\t.attr('ry', box.height / 2)\n\t\t\t\t\t.attr('width', box.height / 2)\n\t\t\t\t\t.attr('height', box.height)\n\t\t\t\t\t.attr('fill', nodeData.color)\n\t\t\t\t\t.attr('style', 'transition:all 0.3s;')\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('g')\n\t\t\t\t\t.attr('id', `icon_${pid}`)\n\t\t\t\t\t.html(nodeData.icon)\n\n\t\t\t\td3.select(`#icon_${pid} svg`)\n\t\t\t\t\t.attr('fill', '#fff')\n\t\t\t\t\t.attr('width', box.height / 2)\n\t\t\t\t\t.attr('height', box.height / 2)\n\t\t\t\t\t.attr('x', box.x + box.height / 4)\n\t\t\t\t\t.attr('y', box.y + box.height * 0.23)\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('text')\n\t\t\t\t\t.text(nodeData.title)\n\t\t\t\t\t.attr('class', 'nodeType')\n\t\t\t\t\t.attr('x', box.x + box.height * 1.2)\n\t\t\t\t\t.attr('y', box.y + box.height * 0.75 / 2)\n\t\t\t\t\t.attr('width', box.height)\n\t\t\t\t\t.attr('height', box.height)\n\t\t\t\t\t.attr('font-weight', 'bold')\n\t\t\t\t\t.attr('fill', nodeData.color)\n\t\t\t\t// .attr('text-anchor', 'start')\n\t\t\t\t// .attr('dominant-baseline', 'start')\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.on(\"mouseover\", function (d) {\n\t\t\t\t\t\td3.select(`#rect_${pid}`).attr(\"stroke\", nodeData.color);\n\t\t\t\t\t\td3.select(`#iconRect_${pid}`)\n\t\t\t\t\t\t\t.attr(\"rx\", 0)\n\t\t\t\t\t\t\t.attr(\"ry\", 0)\n\t\t\t\t\t\t\t.attr('x', box.x + box.height / 2);\n\t\t\t\t\t})\n\t\t\t\t\t.on(\"mouseout\", function (d) {\n\t\t\t\t\t\td3.select(`#rect_${pid}`).attr(\"stroke\", \"#cdcdcd\");\n\t\t\t\t\t\td3.select(`#iconRect_${pid}`)\n\t\t\t\t\t\t\t.attr('rx', box.height / 2)\n\t\t\t\t\t\t\t.attr('ry', box.height / 2)\n\t\t\t\t\t\t\t.attr('x', box.x + box.height / 4)\n\t\t\t\t\t})\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('text')\n\t\t\t\t\t.text(nodeData.name)\n\t\t\t\t\t.attr('class', 'nodeContent')\n\t\t\t\t\t.attr('x', box.x + box.height * 1.2)\n\t\t\t\t\t.attr('y', box.y + box.height * 0.8)\n\t\t\t\t\t.attr('width', box.height)\n\t\t\t\t\t.attr('height', box.height)\n\n\n\t\t\t\t// d3.select(`#${pid}`)\n\t\t\t\t// \t.append('g')\n\t\t\t\t// \t.attr('id', `icon_status_${pid}`)\n\t\t\t\t// \t.html(nodeData.status.icon)\n\n\t\t\t\t// d3.select(`#icon_status_${pid} svg`)\n\t\t\t\t// \t.attr('fill', '#000')\n\t\t\t\t// \t.attr('width', box.height / 3)\n\t\t\t\t// \t.attr('height', box.height / 3)\n\t\t\t\t// \t.attr('x', box.x + box.width - box.height * 2 / 3)\n\t\t\t\t// \t.attr('y', box.y + box.height * 0.2 / 2)\n\n\t\t\t\td3.select(`#${pid}`)\n\t\t\t\t\t.append('g')\n\t\t\t\t\t.attr('id', `icon_status_text_${pid}`)\n\t\t\t\t\t.append('text')\n\t\t\t\t\t.text(nodeData.status.label)\n\t\t\t\t\t.attr('x', box.x + box.width - box.height * 2.8 / 3)\n\t\t\t\t\t.attr('y', box.y + box.height * 0.6 / 2)\n\n\t\t\t}\n\t\t})\n\t}\n\n\tpublic handleCollectExpand(nodeKey: string) {\n\t\tconst currentNode = this.dataMap.get(nodeKey)\n\t\tconst currentNodeInGraph = currentNode?.relativeKey\n\t\tconst [tarParent] = currentNode?.parent || []\n\t\tconst [tarChildren] = currentNode?.children || []\n\t\tconst parentNode = tarParent && this.dataMap?.get(tarParent.key)\n\t\tconst childrenNode = tarChildren && this.dataMap?.get(tarChildren.key)\n\n\t\tif (parentNode && currentNode && currentNodeInGraph === 'children') {\n\t\t\tconst collection = parentNode.collectionChildren || []\n\t\t\tconst children = parentNode.children || []\n\t\t\tconst collectionTypeNode = parentNode.children.pop() as IPreHandleNode\n\t\t\tconst targetNode = collection.shift()\n\n\t\t\tif (targetNode) {\n\t\t\t\t// 处理在节点collect里存在关系的情况\n\t\t\t\tthis.nodesInCollectionMap.delete(targetNode.key)\n\t\t\t\tconst nodesQuene = [...targetNode.children]\n\t\t\t\twhile (nodesQuene.length) {\n\t\t\t\t\tconst nodeItem = nodesQuene.shift()\n\t\t\t\t\tif (nodeItem) {\n\t\t\t\t\t\tthis.nodesInCollectionMap.delete(nodeItem.key)\n\t\t\t\t\t\tnodesQuene.push(...(nodeItem.children || []))\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// 处理展开关系\n\t\t\t\tcurrentNode.collectNum = (currentNode.collectNum || 0) - 1\n\t\t\t\tcurrentNode.collectionNodes = collection\n\t\t\t\tparentNode.collectionChildren = collection\n\t\t\t\tif (collection.length) {\n\t\t\t\t\tparentNode.children = [...children, targetNode, collectionTypeNode]\n\t\t\t\t} else {\n\t\t\t\t\tparentNode.children = [...children, targetNode]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (childrenNode && currentNode && currentNodeInGraph === 'parent') {\n\t\t\tconst collection = childrenNode.collectionParent || []\n\t\t\tconst parent = childrenNode.parent || []\n\t\t\tconst collectionTypeNode = childrenNode.parent.pop() as IPreHandleNode\n\t\t\tconst targetNode = collection.shift()\n\n\t\t\tif (targetNode) {\n\t\t\t\t// 处理在节点collect里存在关系的情况\n\t\t\t\tthis.nodesInCollectionMap.delete(targetNode.key)\n\t\t\t\tconst nodesQuene = [...targetNode.parent]\n\t\t\t\twhile (nodesQuene.length) {\n\t\t\t\t\tconst nodeItem = nodesQuene.shift()\n\t\t\t\t\tif (nodeItem) {\n\t\t\t\t\t\tthis.nodesInCollectionMap.delete(nodeItem.key)\n\t\t\t\t\t\tnodesQuene.push(...(nodeItem.parent || []))\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// 处理展开关系\n\t\t\t\tcurrentNode.collectNum = (currentNode.collectNum || 0) - 1\n\t\t\t\tcurrentNode.collectionNodes = collection\n\t\t\t\tchildrenNode.collectionParent = collection\n\t\t\t\tif (collection.length) {\n\t\t\t\t\tchildrenNode.parent = [...parent, targetNode, collectionTypeNode]\n\t\t\t\t} else {\n\t\t\t\t\tchildrenNode.parent = [...parent, targetNode]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * 渲染节点\n\t * @param nodes\n\t */\n\tpublic renderNode(nodes: IPreHandleNode[], isDisable?: boolean) {\n\t\tthis.loadingStart && this.loadingStart()\n\t\t// console.log('nodes', nodes);\n\t\t// console.log('nodesInCollectionMap', this.nodesInCollectionMap);\n\t\t// console.log('nodesInGraphMap', this.nodesInGraphMap);\n\n\t\tconst nodesRender = this.createRenderNodes(nodes, isDisable)\n\t\tconst nodesRenderRelation = this.cerateRenderNodesRelation(nodes);\n\t\tconst dotSrc = `digraph  {\n\t\t\tid=mainGroup;\n\t\t\trankdir = LR;\n\t\t\tranksep = 1;\n\t\t\tnodesep = 1;\n\t\t\tedge [color=\"#cdcdcd\"];\n\t\t\t${nodesRender.join(' ')} ${nodesRenderRelation.join(' ')}\n        }`;\n\n\t\tconst test = (d3.select('#gNode') as any)\n\t\t\t.graphviz({\n\t\t\t\tzoom: false,\n\t\t\t\tzoomTranslateExtent: [0, 0],\n\t\t\t\t// width: this.innerWidth,\n\t\t\t\t// height: this.innerHeight\n\t\t\t})\n\t\t\t.dot(dotSrc);\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\t(d3.select('#gNode') as any)\n\t\t\t\t\t\t.graphviz({\n\t\t\t\t\t\t\tzoom: false,\n\t\t\t\t\t\t\tzoomTranslateExtent: [0, 0],\n\t\t\t\t\t\t\t// width: this.innerWidth,\n\t\t\t\t\t\t\t// height: this.innerHeight\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.renderDot(dotSrc);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\n\t\t\t\t// 后处理\n\t\t\t\tthis.backRenderHandle()\n\n\t\t\t\tthis.loadingEnd && this.loadingEnd()\n\t\t\t\tresolve('')\n\t\t\t}, 100)\n\t\t})\n\t}\n\n\tpublic highlightRelation(node: IRenderNode) {\n\n\t\t// 全局置灰\n\t\td3.selectAll(`.node polygon`).attr('stroke', '#cdcdcd').attr('fill', '#ffffff');\n\t\td3.selectAll(`.node text`).attr('fill', '#cdcdcd');\n\t\td3.selectAll(`.node .rectBg`).attr('fill', '#cdcdcd');\n\t\td3.selectAll(`.edge path`).attr('stroke', '#cdcdcd');\n\t\td3.selectAll(`.edge polygon`).attr('stroke', '#cdcdcd').attr('fill', '#cdcdcd');\n\n\t\tconst cutTreeNodeParent = this.treeCutNode([node.data], 'parent', 'key', this.rootNode?.key)\n\t\tconst cutTreeNodeChildren = this.treeCutNode([node.data], 'children', 'key', this.rootNode?.key)\n\t\tconst nodeParentList = this.tree2List(cutTreeNodeParent, 'parent')\n\t\tconst nodeChildrenList = this.tree2List(cutTreeNodeChildren, 'children')\n\n\t\tconsole.log('nodeParentList', nodeParentList);\n\n\t\tfor (let i = 0; i < nodeParentList.length; i++) {\n\t\t\tconst item = nodeParentList[i];\n\n\t\t\t// 高亮节点\n\t\t\tif (item) {\n\t\t\t\t// d3.selectAll(`#${item.key} polygon`).attr('stroke', '#0078d4').attr('fill', '#ffffff');\n\t\t\t\t// d3.selectAll(`#${item.key} text`).attr('fill', '#0078d4');\n\t\t\t\t// d3.selectAll(`#${item.key} #rect_${item.key}`).attr('stroke', '#1e1653');\n\t\t\t\t// const currentColorTheme = nodeTypeThemeMap[item.data_fields] || ThemeColor[0]\n\t\t\t\tconst currentColor = item.color\n\t\t\t\td3.selectAll(`#${item.key} .rectBg`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeType`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeContent`).attr('fill', '#000');\n\t\t\t}\n\n\t\t\t// 高亮边\n\t\t\tif (item && item.parent && item.parent.length) {\n\t\t\t\tfor (let i = 0; i < item.parent.length; i++) {\n\t\t\t\t\tconst par = item.parent[i];\n\t\t\t\t\tconst edgeId = `edgePre_${par.key}_edge_${item.key}`;\n\t\t\t\t\td3.selectAll(`#${edgeId} path`).attr('stroke', '#1e1653');\n\t\t\t\t\td3.selectAll(`#${edgeId} polygon`).attr('stroke', '#1e1653').attr('fill', '#1e1653');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tfor (let i = 0; i < nodeChildrenList.length; i++) {\n\t\t\tconst item = nodeChildrenList[i];\n\t\t\tif (item) {\n\t\t\t\t// d3.selectAll(`#${item.key} polygon`).attr('stroke', '#1e1653').attr('fill', '#ffffff');\n\t\t\t\t// d3.selectAll(`#${item.key} text`).attr('fill', '#1e1653');\n\t\t\t\t// d3.selectAll(`#${item.key} #rect_${item.key}`).attr('stroke', '#1e1653');\n\t\t\t\t// const currentColorTheme = nodeTypeThemeMap[item.data_fields] || ThemeColor[0]\n\t\t\t\tconst currentColor = item.color\n\t\t\t\td3.selectAll(`#${item.key} .rectBg`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeType`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeContent`).attr('fill', '#000');\n\t\t\t}\n\n\t\t\tif (item && item.children && item.children.length) {\n\t\t\t\tfor (let i = 0; i < item.children.length; i++) {\n\t\t\t\t\tconst child = item.children[i];\n\t\t\t\t\tconst edgeId = `edgePre_${item.key}_edge_${child.key}`;\n\t\t\t\t\td3.selectAll(`#${edgeId} path`).attr('stroke', '#1e1653')\n\t\t\t\t\td3.selectAll(`#${edgeId} polygon`).attr('stroke', '#1e1653').attr('fill', '#1e1653');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic refresh() {\n\t\tconsole.log('refresh');\n\t\t// todo 图的改造\n\n\t\t// const nodeParentList = this.tree2List([this.rootNode], 'parent')\n\t\t// const nodeChildrenList = this.tree2List([this.rootNode], 'children')\n\t\tconst nodeList = this.dataNodes\n\n\t\tfor (let i = 0; i < nodeList.length; i++) {\n\t\t\tconst item = nodeList[i];\n\t\t\tif (item?.data_fields === 'COLLECT') {\n\t\t\t\td3.selectAll(`#${item.key} polygon`).attr('stroke', '#000000')\n\t\t\t\td3.select(`#${item.key} text`).attr('fill', '#000000');\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\t// 高亮节点\n\t\t\tif (item) {\n\t\t\t\t// const currentColorTheme = nodeTypeThemeMap[item.data_fields] || ThemeColor[0]\n\t\t\t\tconst currentColor = item.color\n\t\t\t\td3.selectAll(`#${item.key} .rectBg`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeType`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeContent`).attr('fill', '#000');\n\t\t\t}\n\n\n\t\t\t// 高亮边\n\t\t\tif (item && item.parent && item.parent.length) {\n\t\t\t\tfor (let i = 0; i < item.parent.length; i++) {\n\t\t\t\t\tconst par = item.parent[i];\n\t\t\t\t\tconst edgeId = `edgePre_${par.key}_edge_${item.key}`;\n\t\t\t\t\td3.selectAll(`#${edgeId} path`).attr('stroke', '#cdcdcd');\n\t\t\t\t\td3.selectAll(`#${edgeId} polygon`).attr('stroke', '#cdcdcd').attr('fill', '#cdcdcd');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < nodeList.length; i++) {\n\t\t\tconst item = nodeList[i];\n\t\t\tif (item?.data_fields === 'COLLECT') {\n\t\t\t\td3.selectAll(`#${item.key} polygon`).attr('stroke', '#000000')\n\t\t\t\td3.select(`#${item.key} text`).attr('fill', '#000000');\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\tif (item) {\n\t\t\t\t// const currentColorTheme = nodeTypeThemeMap[item.data_fields] || ThemeColor[0]\n\t\t\t\tconst currentColor = item.color\n\t\t\t\td3.selectAll(`#${item.key} .rectBg`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeType`).attr('fill', currentColor);\n\t\t\t\td3.selectAll(`#${item.key} .nodeContent`).attr('fill', '#000');\n\t\t\t}\n\n\t\t\tif (item && item.children && item.children.length) {\n\t\t\t\tfor (let i = 0; i < item.children.length; i++) {\n\t\t\t\t\tconst child = item.children[i];\n\t\t\t\t\tconst edgeId = `edgePre_${item.key}_edge_${child.key}`;\n\t\t\t\t\td3.selectAll(`#${edgeId} path`).attr('stroke', '#cdcdcd')\n\t\t\t\t\td3.selectAll(`#${edgeId} polygon`).attr('stroke', '#cdcdcd').attr('fill', '#cdcdcd');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *将某个节点移动到画布中间\n\t *\n\t * @param {(string)} id\n\t * @memberof CostMap\n\t */\n\tpublic anchorNode(id: string) {\n\t\tthis.resetNode(this.activeNodeId || '');\n\t\tconst graphvizDom: any = d3.select('#mainGroup').datum();\n\t\tconst relativeY = graphvizDom.translation.y;\n\n\t\tconst renderNode: any = this.renderNodesMap?.get(id);\n\t\tif (renderNode) {\n\t\t\t// pt转px\n\t\t\tconst x = -renderNode.x * (96 / 72) + this.innerWidth / 2 + 100;\n\t\t\t// const y = renderNode.y * (96 / 72) - relativeY;\n\t\t\tconst y = -(relativeY - -renderNode.y) * (96 / 72) + this.innerHeight / 2;\n\t\t\tthis.mainView.call(this.zoom.transform, d3.zoomIdentity.translate(x, y).scale(1));\n\t\t}\n\t\tthis.activeNode(id);\n\t}\n\n\t/**\n\t * 将整个应用居中展示\n\t *\n\t * @param {(string)} id\n\t * @memberof CostMap\n\t */\n\tpublic centerApp() {\n\t\tthis.resetNode(this.activeNodeId || '');\n\t\tconst scaleView: any = d3.select('#scaleView').node();\n\t\tconst scaleViewBox = scaleView.getBBox();\n\t\tconst currentCenterX = scaleViewBox.width / 2;\n\t\tconst viewCenterX = this.innerWidth / 2;\n\t\tconst x = viewCenterX - currentCenterX\n\n\t\tconst currentCenterY = scaleViewBox.height / 2;\n\t\tconst viewCenterY = this.innerHeight / 2;\n\t\tconst y = viewCenterY - currentCenterY - 250\n\n\t\tthis.mainView.call(this.zoom.transform, d3.zoomIdentity.translate(x, y).scale(1));\n\t}\n\n\tpublic activeNode(id: string) {\n\t\tconst renderNode = this.renderNodesMap?.get(id);\n\t\tconst dataNode = this.dataMap?.get(id);\n\t\tif (this.activeNodeId) {\n\t\t\td3.selectAll(`#${this.activeNodeId} .nodeContent`).attr('fill', '#000');\n\t\t}\n\t\tif (renderNode && dataNode) {\n\t\t\tthis.activeNodeId = id;\n\t\t\t// d3.selectAll(`#${id} .nodeContent`).attr('fill', ThemeColor[dataNode.level % 5].activeColor || '');\n\n\t\t\t// console.log(d3.selectAll(`#${renderNode.renderId} text[fill=\"#000000\"]`));\n\t\t\t// d3.selectAll(`#${renderNode.renderId} text`).attr('fill', ThemeColor[dataNode.level % 5].activeColor || '');\n\t\t\t// d3.selectAll(`#${renderNode.renderId} path`)\n\t\t\t// \t// .attr('fill', ThemeColor[dataNode.level].activeColor || '')\n\t\t\t// \t.attr('stroke', ThemeColor[dataNode.level].activeColor || '');\n\t\t\t// d3.selectAll(`#${renderNode.renderId} polyline`).attr(\n\t\t\t// \t'stroke',\n\t\t\t// \tThemeColor[dataNode.level].activeColor || '',\n\t\t\t// );\n\t\t}\n\t}\n\n\tpublic resetNode(id: string) {\n\t\tconst renderNode = this.renderNodesMap?.get(id);\n\t\tconst dataNode = this.dataMap?.get(id);\n\t\tif (renderNode && dataNode) {\n\t\t\td3.selectAll(`[node_id=value${renderNode.renderId}]`).attr('fill', '#000000');\n\t\t\t// d3.selectAll(`#${renderNode.renderId} text`).attr('fill', ThemeColor[dataNode.level % 5].color);\n\t\t\t// d3.selectAll(`#${renderNode.renderId} path`)\n\t\t\t// \t// .attr('fill', ThemeColor[dataNode.level % 5].background)\n\t\t\t// \t.attr('stroke', ThemeColor[dataNode.level % 5].border);\n\t\t\t// d3.selectAll(`#${renderNode.renderId} polyline`).attr('stroke', ThemeColor[dataNode.level % 5].border);\n\t\t}\n\t}\n}\n","import { Drawer, Spin, } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getNodeInfoCommon, getNodeRelationCommon } from '../../api/commonPipeline';\nimport Loading from '../../components/Loading/Loading';\nimport { getParam } from '../../util';\nimport NodeDetail from './NodeDetail';\nimport RelationDiagram from './TreePlusDiagram';\nimport { ILayoutConfig, INodeDetailItem, INodeItem } from './TreePlusInterface';\nimport './TreePlus.less';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n\tid?: string | number | undefined | null;\n\tisCollapsed?: boolean;\n}\n\nexport default function TreePlus(props: IProps) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [visableDrawer, setVisableDrawer] = useState(false)\n\tconst [isNoData, setIsNoData] = useState(false)\n\tconst [nodeDetail, setNodeDetail] = useState<INodeDetailItem[]>([])\n\tconst [loadingDetail, setLoadingDetail] = useState(false)\n\tconst [layoutConfig, setLayoutConfig] = useState<ILayoutConfig>()\n\tconst { t, i18n } = useTranslation();\n\n\tconst treeDataRef = useRef<INodeItem[]>()\n\n\tconst [relationDiagram, _setRelationDiagram] = useState<RelationDiagram>();\n\tconst relationDiagramRef = useRef(relationDiagram);\n\tconst setRelationDiagram = (data: RelationDiagram): void => {\n\t\trelationDiagramRef.current = data;\n\t\t_setRelationDiagram(data);\n\t};\n\n\tuseEffect(() => {\n\t\tconst target = new RelationDiagram({\n\t\t\tcontainerId: 'd3Container',\n\t\t\tmainViewId: 'd3MainView',\n\t\t\tmargin: 16,\n\t\t});\n\t\tsetRelationDiagram(target);\n\n\t\tconst resizeIframe = document.getElementById('resizeIframe') as HTMLIFrameElement;\n\t\tif (resizeIframe.contentWindow) {\n\t\t\tresizeIframe.contentWindow.onresize = () => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconsole.log(relationDiagramRef.current);\n\t\t\t\t\trelationDiagramRef.current?.reSize();\n\t\t\t\t}, 1000);\n\t\t\t};\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (relationDiagram) {\n\t\t\tconst backurl = getParam('backurl') || ''\n\t\t\tfetchBloodRelationData(backurl)\n\t\t}\n\n\t}, [relationDiagram]);\n\n\tconst handleClickNode = (node: any) => {\n\t\tconsole.log(node)\n\t\tconst currentNode = relationDiagram && relationDiagram.dataMap && relationDiagram.dataMap.get(node.key)\n\t\tconsole.log('currentNode', currentNode);\n\n\t\tsetNodeDetail([])\n\t\tsetLoadingDetail(true)\n\t\tsetVisableDrawer(true)\n\t\tgetNodeInfoCommon(currentNode?.detail_url || '').then(res => {\n\t\t\tconsole.log(res.data.result.detail);\n\t\t\tconst detail = res.data.result.detail\n\t\t\tsetNodeDetail(detail)\n\t\t\tsetLoadingDetail(false)\n\t\t}).catch(() => {\n\t\t\tsetLoadingDetail(false)\n\t\t})\n\t}\n\n\tconst fetchBloodRelationData = (url: string) => {\n\t\tif (relationDiagram) {\n\t\t\tif (!!url) {\n\t\t\t\tsetLoading(true);\n\t\t\t\tgetNodeRelationCommon(url)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconst dag = res.data.result.dag || []\n\t\t\t\t\t\tconst layout = res.data.result.layout || {}\n\t\t\t\t\t\ttreeDataRef.current = dag\n\n\t\t\t\t\t\tif (!dag.length) {\n\t\t\t\t\t\t\tsetIsNoData(true)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetIsNoData(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t\trelationDiagram.initData(dag);\n\t\t\t\t\t\trelationDiagram.handleNodeClick = handleClickNode;\n\t\t\t\t\t\trelationDiagram.loadingStart = () => {\n\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t}\n\t\t\t\t\t\trelationDiagram.loadingEnd = () => {\n\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetLayoutConfig(layout)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\tsetIsNoData(true)\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trelationDiagram.initData([])\n\t\t\t\tsetIsNoData(true)\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"p-r h100\" id=\"fullContainer\">\n\t\t\t<iframe\n\t\t\t\tid=\"resizeIframe\"\n\t\t\t\tsrc=\"\"\n\t\t\t\tframeBorder=\"0\"\n\t\t\t\tclassName=\"p-a z-1\"\n\t\t\t\tstyle={{ width: '100%', height: '100%' }}\n\t\t\t/>\n\t\t\t{\n\t\t\t\tloading ? <div className=\"p-a w100 h100 d-f ac jc mark z999 fadein\">\n\t\t\t\t\t<Spin spinning={loading} indicator={<Loading />}>\n\t\t\t\t\t\t<div />\n\t\t\t\t\t</Spin>\n\t\t\t\t</div> : null\n\t\t\t}\n\t\t\t<Drawer\n\t\t\t\ttitle=\"节点详情\"\n\t\t\t\twidth={800}\n\t\t\t\tclosable={false}\n\t\t\t\tonClose={() => { setVisableDrawer(false) }}\n\t\t\t\tvisible={visableDrawer}\n\t\t\t\tclassName=\"nodedetail-wapper\"\n\t\t\t>\n\t\t\t\t<Spin spinning={loadingDetail}>\n\t\t\t\t\t<NodeDetail data={nodeDetail} />\n\t\t\t\t</Spin>\n\t\t\t</Drawer>\n\n\t\t\t{\n\t\t\t\tisNoData ? <div className=\"p-a w100 h100 d-f ac jc ta-c z1\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div><img className=\"w320\" src={require('../../images/workData.png')} alt=\"\" /></div>\n\t\t\t\t\t\t<div className=\"fs22\">{t('暂无数据')}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div> : null\n\t\t\t}\n\t\t\t<div className=\"d-f fd-c h100 ov-h\">\n\t\t\t\t<div className=\"tree-header\">\n\t\t\t\t\t<div className=\"p16 d-f jc-b ac\">\n\t\t\t\t\t\t<div className=\"d-f ac\">\n\t\t\t\t\t\t\t<span className=\"icon-custom\" dangerouslySetInnerHTML={{ __html: layoutConfig?.icon || '' }}></span>\n\t\t\t\t\t\t\t<span className=\"ml8 fs18\">{layoutConfig?.title}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlayoutConfig?.right_button.map(button => {\n\t\t\t\t\t\t\t\t\treturn <div onClick={() => {\n\t\t\t\t\t\t\t\t\t\twindow.open(button.url, \"blank\")\n\t\t\t\t\t\t\t\t\t}} className=\"c-text-w ml8 btn-ghost d-il\">{button.label}</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"header-detail p16 d-f\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(layoutConfig?.detail || []).map(detail => {\n\t\t\t\t\t\t\t\treturn <div className=\"flex1 mr48 header-detail-item\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdetail.map(group => {\n\t\t\t\t\t\t\t\t\t\t\treturn <div className=\"pb2\">{group.label}：{group.value}</div>\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"d3Container\" className=\"flex1\">\n\t\t\t\t\t<svg id=\"d3MainView\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react'\nimport TreePlus from './TreePlus'\n\nexport default function CommonPipeline() {\n    return (\n        <>\n            <TreePlus />\n        </>\n    )\n}\n","import CommonPipeline from './CommonPipeline'\n\nexport default function DWStandard() {\n    return (\n        <div className=\"fade-in h100 d-f fd-c\">\n            <CommonPipeline />\n        </div>\n    )\n}\n","import { Button, Col, message, Row, Tabs } from 'antd'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { CopyOutlined } from '@ant-design/icons';\nimport TableBox from '../../components/TableBox/TableBox';\nimport { INodeDetailItem, TGroupContentType } from './TreePlusInterface';\nimport EchartCore from '../../components/EchartCore/EchartCore';\nimport { getNodeInfoApi } from '../../api/commonPipeline';\nimport './NodeDetail.less';\nimport { group } from 'd3';\n\ninterface IProps {\n    data: INodeDetailItem[]\n}\n\nexport type ITNodeDetail = 'common' | 'table' | 'sql'\n\nexport default function NodeDetail(props: IProps) {\n    const [isSqlVisable, setIsSqlVisable] = useState(false)\n    const [currentDataItem, setCurrentDataItem] = useState<INodeDetailItem>()\n\n    const [nodeInfoApiMap, _setNodeInfoApiMap] = useState<Record<string, any>>({})\n    const nodeInfoApiMapRef = useRef(nodeInfoApiMap);\n    const setNodeInfoApiMap = (data: Record<string, any>): void => {\n        nodeInfoApiMapRef.current = data;\n        _setNodeInfoApiMap(data);\n    };\n\n    useEffect(() => {\n        const apiList: any[] = []\n        const nameList: string[] = []\n        props.data.forEach(tab => {\n            tab.content.forEach(group => {\n                if (group.groupContent.type === 'api') {\n                    const req = getNodeInfoApi(group.groupContent.value)\n                    apiList.push(req)\n                    nameList.push(`${tab.tabName}_${group.groupName}`)\n                }\n            })\n        })\n        console.log('apiList', apiList);\n        Promise.all(apiList).then(res => {\n            const result = res.map(item => item.data.result)\n            const resMap = result.reduce((pre, next, index) => ({ ...pre, [nameList[index]]: { ...next } }), {})\n            setNodeInfoApiMap(resMap)\n        })\n    }, [props.data])\n\n    const handelNodeDetailTable = (item: any) => {\n        try {\n            JSON.parse(`${item.value || []}`)\n        } catch (error) {\n            console.log(error);\n        }\n        const dataList = JSON.parse(`${item.value || '[]'}`)\n        let columnsConfig = Object.entries(dataList[0] || {}).reduce((pre: any, [key, value]) => [...pre, { title: key, dataIndex: key, key }], [])\n\n        return <Col span={16}>\n            <TableBox\n                rowKey={(record: any) => {\n                    return JSON.stringify(record)\n                }}\n                size={'small'}\n                cancelExportData={true}\n                columns={columnsConfig}\n                pagination={false}\n                dataSource={dataList}\n            // scroll={{ x: 1500, y: scrollY }}\n            />\n        </Col>\n    }\n\n    const handleGroupContent = (type: TGroupContentType, content: any, tabName: string, groupName: string) => {\n        switch (type) {\n            case 'map':\n                return renderMapComponent(content)\n            case 'echart':\n                return renderEchart(content)\n            case 'text':\n                return renderMapText(content)\n            case 'iframe':\n                return renderMapIframe(content)\n            case 'html':\n                return renderHtml(content)\n            case 'api':\n                return renderApi(content, tabName, groupName)\n            default:\n                return <span style={{ wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>{content}</span>\n        }\n    }\n\n    const renderApi = (data: string, tabName: string, groupName: string) => {\n        const apiKey = `${tabName}_${groupName}`;\n\n        // getNodeInfoApi(data).then(res => {\n        //     console.log(res.data.result);\n        //     const result = res.data.result\n\n        // }).catch(err => { })\n        return <div>{nodeInfoApiMapRef.current[apiKey] ? nodeInfoApiMapRef.current[apiKey].value : ''}</div>\n    }\n    const renderHtml = (data: string) => {\n        return <div dangerouslySetInnerHTML={{ __html: data }}></div>\n    }\n    const renderMapComponent = (data: Record<string, string>) => {\n        const dataList: Array<{ label: string, value: string }> = Object.entries(data).reduce((pre: any, [key, val]) => ([...pre, { label: key, value: val }]), [])\n        return <div className=\"bg-title p16\">\n            {\n                dataList.map((item, index) => {\n                    return <Row className=\"mb8 w100\" key={`nodeDetailItem_${index}`}>\n                        <Col span={8}><div className=\"ta-l\"><strong>{item.label}：</strong></div></Col>\n                        <Col span={16}><span style={{ wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>{item.value}</span></Col>\n                    </Row>\n                })\n            }\n        </div>\n    }\n    const renderEchart = (data: any) => {\n        var currentOps: any = {}\n        eval(`currentOps=${data}`)\n        return <div className=\"bg-title p16\">\n            <EchartCore option={currentOps} loading={false} />\n        </div>\n    }\n    const renderMapText = (data: string) => {\n        return <div className=\"p16 bg-title\" style={{ wordBreak: 'break-word', whiteSpace: 'pre-wrap' }}>{data}</div>\n    }\n    const renderMapIframe = (data: any) => {\n        return <iframe\n            src={data.url}\n            allowFullScreen\n            allow=\"microphone;camera;midi;encrypted-media;\"\n            className=\"w100 fade-in\"\n            style={{ border: 0, height: 500 }}>\n        </iframe>\n    }\n\n    return (\n        <>\n            <Tabs className=\"nodedetail-tab\">\n                {\n                    props.data.map((tab, tabIndex) => {\n                        return <Tabs.TabPane tab={tab.tabName} key={`nodeDetailTab${tabIndex}`}>\n                            <div className=\"d-f fd-c jc-b h100\">\n                                <div className=\"flex1\">\n                                    {\n                                        tab.content.map((group, groupIndex) => {\n                                            return <div className=\"mb32\" key={`nodeGroup${groupIndex}`}>\n                                                <div className=\"fs16 mb16 bor-l b-theme pl4\" style={{ borderLeftWidth: 2 }}>{group.groupName}</div>\n                                                <div>\n                                                    {handleGroupContent(group.groupContent.type, group.groupContent.value, tab.tabName, group.groupName)}\n                                                </div>\n                                            </div>\n                                        })\n                                    }\n                                </div>\n                                <div className=\"nodedetail-tool\">\n                                    {\n                                        tab.bottomButton.map(button => {\n                                            return <Button className=\"mr12 icon-tool-wrapper\" onClick={() => {\n                                                window.open(button.url, 'blank')\n                                            }}>\n                                                <span className=\"icon-tool\" dangerouslySetInnerHTML={{ __html: button.icon }}></span>\n                                                <span className=\"ml6\">{button.text}</span>\n                                            </Button>\n                                        })\n                                    }\n                                </div>\n                            </div>\n                        </Tabs.TabPane>\n                    })\n                }\n            </Tabs>\n        </>\n    )\n}\n"],"names":["getNodeRelationCommon","url","axios","get","getNodeInfoCommon","getNodeInfoApi","defaultChartStyle","height","EchartCore","props","chartInstance","setChartInstance","useState","id","Math","random","toString","substring","t","i18n","useTranslation","option","useEffect","chartDom","document","getElementById","chart","echarts","setOption","data","_jsx","Spin","spinning","loading","children","_jsxs","className","style","isNoData","CopyToClipboard","require","ResizableTitle","_ref","onResize","width","restProps","Resizable","handle","onClick","e","stopPropagation","draggableOpts","enableUserSelectHack","userSelect","exportDataVisible","setExportDataVisible","dataFormat","setDataFormat","header","filterValue","setFilterValue","cols","setCols","columns","handleResize","index","_","_ref2","size","temp","tableWidth","reduce","pre","next","localStorage","setItem","tableKey","JSON","stringify","setCurrentTableScroll","currentTableScroll","x","customColumns","map","col","onHeaderCell","column","scroll","dataSource","filter","item","indexOf","dataIndex","handdleFilterHeader","dataColumns","arguments","length","undefined","sheetHeader","title","tarData","forEach","dataRow","row","colName","res","push","handleExportJira","str","join","rowKey","Object","values","handleExportText","Space","direction","Modal","maskClosable","centered","bodyStyle","maxHeight","overflow","visible","onCancel","footer","position","Checkbox","Group","options","label","value","defaultValue","onChange","right","bottom","Button","type","Tabs","TabPane","tab","text","onCopy","message","success","cursor","minHeight","titleNode","buttonNode","cancelExportData","Row","justify","align","Col","marginLeft","ConfigProvider","renderEmpty","customizeRenderEmpty","flexDirection","src","emptyImg","alt","Table","components","cell","pagination","rowSelection","Loading","left","d3Tip","d3TipF","D3Tool","constructor","containerId","mainViewId","margin","container","scaleView","mainView","gNode","gLink","gText","gBorder","gTextCache","innerWidth","innerHeight","tip","fontSize","zoom","currentNode","list2Tree","withoutChildrenDataList","dataMap","this","list2Map","root","i","parentId","parent","ci_id","tree2List","key","quene","shift","list","isReplace","Map","set","treeCutNode","matchKey","dfs","tarItem","parse2Rectangle","coordList","split","coord","y","rectSourceObj","currentIndex","tar","concat","x1","x0","y3","y0","abs","center","_selfThis","d3","append","attr","marginObj","top","scrollWidth","scrollHeight","html","d","call","scaleExtent","on","transform","hide","translate","scale","reSize","console","log","getTextRect","textStr","_textDom$node","textDom","textBox","node","getBBox","rect","remove","graphviz","name","ThemeColor","background","color","border","activeColor","disabled","disabledColor","nodeTypeThemeMap","RelationDiagram","isCollection","super","dataMapByName","renderNodesMap","nodesInGraphMap","nodesInCollectionMap","dataNodes","activeNodeId","rootNode","handleNodeClick","loadingStart","loadingEnd","htmlStrEnCode","replace","charCodeAt","enCodeNodeId","deCodeNodeId","sourceId","replaceAll","preHandleNodes","nodes","_this","relativeKey","nodesMapByKey","nodesMapById","rootIds","childrenKey","parentKey","level","upItem","idPath","_node$childrenKey","nid","nodeCacheById","nodeCache","tarNode","flag","includes","pop","currentItemList","itemId","rootId","initData","preHandlePreData","preHandleNextData","preHandleData","preRenderData","preRenderDataReady","renderNode","then","centerApp","targetData","targetDataMap","targetDataMapByName","createRenderNodes","isDisable","data_fields","collectNum","cerateRenderNodesRelation","child","backRenderHandle","each","_this$dataMap","nodeData","currentColorTheme","box","datum","renderInfo","renderId","theme","error","beautifulNode","timeout","clearTimeout","setTimeout","d3MainView","onclick","isNode","path","elem","refresh","boxs","_this$dataMap2","bbox","pid","_selfThis$renderNodes","dataNode","highlightRelation","cy","icon","status","handleCollectExpand","nodeKey","_this$dataMap3","_this$dataMap4","currentNodeInGraph","tarParent","tarChildren","parentNode","childrenNode","collection","collectionChildren","collectionTypeNode","targetNode","delete","nodesQuene","nodeItem","collectionNodes","collectionParent","nodesRender","nodesRenderRelation","dotSrc","zoomTranslateExtent","dot","Promise","resolve","reject","renderDot","_this$rootNode","_this$rootNode2","cutTreeNodeParent","cutTreeNodeChildren","nodeParentList","nodeChildrenList","currentColor","par","edgeId","nodeList","anchorNode","_this$renderNodesMap","resetNode","relativeY","translation","activeNode","scaleViewBox","currentCenterX","currentCenterY","_this$renderNodesMap2","_this$dataMap5","_this$renderNodesMap3","_this$dataMap6","TreePlus","setLoading","visableDrawer","setVisableDrawer","setIsNoData","nodeDetail","setNodeDetail","loadingDetail","setLoadingDetail","layoutConfig","setLayoutConfig","treeDataRef","useRef","relationDiagram","_setRelationDiagram","relationDiagramRef","target","current","resizeIframe","contentWindow","onresize","_relationDiagramRef$c","backurl","getParam","fetchBloodRelationData","handleClickNode","detail_url","result","detail","catch","dag","layout","err","finally","frameBorder","indicator","Drawer","closable","onClose","NodeDetail","dangerouslySetInnerHTML","__html","right_button","button","window","open","group","CommonPipeline","_Fragment","DWStandard","isSqlVisable","setIsSqlVisable","currentDataItem","setCurrentDataItem","nodeInfoApiMap","_setNodeInfoApiMap","nodeInfoApiMapRef","setNodeInfoApiMap","apiList","nameList","content","groupContent","req","tabName","groupName","all","resMap","handelNodeDetailTable","parse","dataList","columnsConfig","entries","span","TableBox","record","handleGroupContent","renderMapComponent","renderEchart","renderMapText","renderMapIframe","renderHtml","renderApi","wordBreak","whiteSpace","apiKey","val","currentOps","eval","allowFullScreen","allow","tabIndex","groupIndex","borderLeftWidth","bottomButton"],"sourceRoot":""}