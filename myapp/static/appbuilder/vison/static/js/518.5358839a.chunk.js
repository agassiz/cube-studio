"use strict";(self.webpackChunkvite_ml_platform=self.webpackChunkvite_ml_platform||[]).push([[518],{54233:(e,i,t)=>{t.d(i,{G:()=>a,j:()=>o});var n=t(14556);const o=()=>(0,n.wA)(),a=n.d4},26518:(e,i,t)=>{t.r(i),t.d(i,{default:()=>H});var n=t(65043),o=t(48330),a=t(14490),s=t(24949),l=t(47379),d=t(94842),r=t(13706),c=t(3683),m=t(85849),p=t(91978),h=t(63485),x=t(36830),u=t(10615),g=t(60392),y=t(20751),v=t(46441),w=t(66669),f=t(54233),j=t(16497),S=t.n(j),b=t(97002);const k={sectionStyles:(0,b.Z)({marginBottom:16,padding:"0 10px 24px 10px",borderBottom:"1px solid #dadada",selectors:{".subtitle":{marginBottom:20,height:24,lineHeight:"1.1",fontSize:20,fontWeight:"bold",fontFamily:'"Raleway","Helvetica Neue",Helvetica,Arial,sans-serif;'},".expand-button":{color:"#005cd2",marginRight:24,fontSize:14,marginBottom:12}}}),sampleStyles:(0,b.Z)({minHeight:186,position:"relative",display:"flex",flexWrap:"wrap"}),sampleHide:(0,b.Z)({height:186,overflow:"hidden"}),sampleCardStyle:(0,b.Z)({width:200,marginRight:24,marginBottom:24}),cardContainer:(0,b.Z)({width:200,height:124,borderRadius:2,display:"flex",flexDirection:"column",cursor:"pointer",backgroundColor:"#fff",border:"1px solid #dadada",selectors:{":hover":{boxShadow:"rgb(0 0 0 / 18%) 0px 6.4px 14.4px 0px, rgb(0 0 0 / 22%) 0px 1.2px 3.6px 0px"}}}),addIconStyles:(0,b.Z)({fontSize:38,padding:"42px 0 29px",cursor:"pointer",textAlign:"center",color:"#005cd2"}),sampleImgStyles:(0,b.Z)({height:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",selectors:{img:{width:"100%",height:"100%"}}}),cardTitleStyles:(0,b.Z)({marginTop:16,textAlign:"center",cursor:"pointer",whiteSpace:"nowrap",display:"flex",flexFlow:"column nowrap",width:"auto",height:"auto",textOverflow:"ellipsis"}),videoPlayerStyles:(0,b.Z)({backgroundColor:"#000",width:800,height:500})};var N=t(74117),_=t(70579);const C=e=>{const i=(0,f.j)(),[t,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[d,r]=(0,n.useState)(""),[c,m]=(0,n.useState)(void 0),p=(0,f.G)(w.lu),{t:h,i18n:x}=(0,N.Bd)();console.log("i18n.language",x.language);return(0,n.useEffect)((()=>{s&&d&&setTimeout((()=>{const e=new(S())({id:"video-player",url:d,width:800,height:500});m(e)}),0),s&&c&&(c.destroy(),m(void 0))}),[s,d]),(0,n.useEffect)((()=>{}),[c]),(0,_.jsxs)(o.B,{className:k.sectionStyles,children:[(0,_.jsxs)(o.B,{className:"flex-section",horizontal:!0,horizontalAlign:"space-between",children:[(0,_.jsx)("div",{className:"subtitle",children:e.name}),(0,_.jsx)("div",{className:"expand-button",onClick:()=>{a(!t)},children:h(t?"\u6298\u53e0":"\u66f4\u591a")})]}),(0,_.jsxs)("div",{className:"".concat(k.sampleStyles," ").concat(t?"":k.sampleHide),children:[e.first?(0,_.jsxs)("div",{className:k.sampleCardStyle,onClick:()=>{g.A.pipeline_modelview_add({describe:"new-pipeline-".concat(Date.now()),name:"".concat(p,"-pipeline-").concat(Date.now()),node_selector:"cpu=true,train=true",schedule_type:"once",image_pull_policy:"Always",parallelism:1,project:7}).then((e=>{if(0===(null===e||void 0===e?void 0:e.status)&&"success"===(null===e||void 0===e?void 0:e.message)){var i;const t="".concat(window.location.origin).concat(location.pathname,"?pipeline_id=").concat(null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.id);window.open("".concat(window.location.origin,"/frontend/showOutLink?url=").concat(encodeURIComponent(t)),"bank")}})).catch((e=>{e.response&&i((0,w.IV)({msg:e.response.data.message}))}))},children:[(0,_.jsx)("div",{className:k.cardContainer,children:(0,_.jsx)(y.I,{iconName:"Add",className:k.addIconStyles})}),(0,_.jsx)("div",{className:k.cardTitleStyles,children:(0,_.jsx)("span",{children:h("\u65b0\u5efa\u6d41\u6c34\u7ebf")})})]}):null,e.data.map(((e,i)=>e.img?(0,_.jsxs)("div",{className:k.sampleCardStyle,onClick:()=>{(e=>{const i="".concat(window.location.origin).concat(location.pathname,"?pipeline_id=").concat(null===e||void 0===e?void 0:e.id);switch(e.type){case"link":window.open("".concat(window.location.origin,"/frontend/showOutLink?url=").concat(encodeURIComponent(i)),"bank");break;case"outside":window.open(e.url,"_blank");break;case"video":l(!0),r(e.url)}})(e)},children:[(0,_.jsx)("div",{className:k.cardContainer,children:(0,_.jsx)("div",{className:k.sampleImgStyles,children:(0,_.jsx)("img",{src:e.img,alt:e.name})})}),(0,_.jsx)("div",{className:k.cardTitleStyles,children:(0,_.jsx)("span",{children:e.name})})]},i):null))]}),(0,_.jsx)(v.a,{isOpen:s,onDismiss:()=>l(!1),children:(0,_.jsx)("div",{id:"video-player",className:k.videoPlayerStyles})})]})};var W=t(23212);const B={root:{width:"100%",height:"100%",overflow:"hidden"}},R={dropdown:{width:100,marginLeft:10,marginRight:20}},A=[{key:"10",text:"10"},{key:"25",text:"25"},{key:"50",text:"50"},{key:"100",text:"100"}],H=()=>{const e=(0,f.j)(),i=(0,f.G)(W.Nl),t=(0,f.G)(W.Ub),[y,v]=(0,n.useState)([]),[w,j]=(0,n.useState)([]),[S,b]=(0,n.useState)([]),[k,H]=(0,n.useState)(0),[z,T]=(0,n.useState)(10),[I,D]=(0,n.useState)(!1),[Z,E]=(0,n.useState)(!1),{t:K,i18n:L}=(0,N.Bd)(),M=[{key:"id",name:"ID",fieldName:"id",minWidth:50,maxWidth:100,data:"number"},{key:"name",name:K("\u4efb\u52a1\u6d41"),fieldName:"name",minWidth:200,maxWidth:350,data:"string",onRender:e=>(0,_.jsx)("span",{style:{textDecoration:"underline",color:"#005ccb",cursor:"pointer"},onClick:()=>{O(e)},dangerouslySetInnerHTML:{__html:e.name}})},{key:"describe",name:K("\u63cf\u8ff0"),fieldName:"describe",minWidth:200,maxWidth:300,data:"string"},{key:"changed_on",name:K("\u4fee\u6539\u65f6\u95f4"),fieldName:"changed_on",minWidth:200,maxWidth:300,data:"string"},{key:"project_id",name:K("\u9879\u76ee\u7ec4"),minWidth:150,maxWidth:200,onRender:e=>(0,_.jsx)("div",{children:S[e.project_id].name})}],O=e=>{const i="".concat(window.location.origin).concat(location.pathname,"?pipeline_id=").concat(null===e||void 0===e?void 0:e.id);window.open("".concat(window.location.origin,"/frontend/showOutLink?url=").concat(encodeURIComponent(i)),"bank")};return(0,n.useEffect)((()=>{v([]),g.A.pipeline_modelview_demo().then((e=>{if(0===e.status){const{result:i}=e,t=i.map((e=>({id:e.id,name:e.describe,img:JSON.parse(e.parameter).img||"",type:"link"})));j(t)}})),g.A.project_all().then((i=>{if(0===i.status){D(!0);const t=[];i.result.data.forEach((e=>{e.id&&(t[e.id]=e)})),console.log("list",t),b(t),e((0,W.Ny)())}}))}),[]),(0,n.useEffect)((()=>{I&&e((0,W.iB)({page:k,page_size:z}))}),[z,I,k]),(0,n.useEffect)((()=>{t&&E(t.length<z)}),[t]),(0,_.jsx)(o.B,{className:"home-container",styles:B,children:(0,_.jsxs)(o.B,{as:"main",grow:!0,verticalFill:!0,styles:{root:{padding:"8px 14px",overflow:"scroll"}},children:[(0,_.jsx)(C,{name:K("\u5e73\u53f0\u4e3b\u8981\u529f\u80fd"),data:w,first:!0}),(0,_.jsxs)(o.B,{styles:{root:{marginTop:"16px !important",padding:"0 10px 24px"}},children:[(0,_.jsx)(o.B,{className:"flex-section",horizontal:!0,horizontalAlign:"space-between",children:(0,_.jsx)("div",{className:"subtitle",style:{marginBottom:8,height:24,lineHeight:"1.1",fontSize:20,fontWeight:"bold"},children:K("\u6d41\u6c34\u7ebf")})}),(0,_.jsxs)(a.f,{"aria-label":"Basic Pivot Example",defaultSelectedKey:"1",children:[(0,_.jsx)(s.y,{headerText:K("\u6211\u7684"),headerButtonProps:{"data-order":1,"data-title":"My Files Title"},itemKey:"1",children:(0,_.jsx)("div",{children:(0,_.jsx)(l.R,{items:i,columns:M.concat({key:"action",name:K("\u64cd\u4f5c"),minWidth:200,maxWidth:300,onRender:i=>(0,_.jsx)("div",{children:(0,_.jsx)(d.S,{content:K("\u5220\u9664"),children:(0,_.jsx)(r.K,{onClick:()=>{(i=>{null!==i&&void 0!==i&&i.id&&g.A.pipeline_modelview_delete(i.id).then((i=>{0===i.status&&e((0,W.Ny)())}))})(i)},iconProps:{iconName:"Delete",styles:{root:{color:"red"}}}})})})}),selectionMode:c.Qc.none,setKey:"none",layoutMode:m.ch.fixedColumns,isHeaderVisible:!0,compact:!0,styles:{headerWrapper:{".ms-DetailsHeader":{paddingTop:0}},contentWrapper:{lineHeight:"32px"}}})})}),(0,_.jsx)(s.y,{headerText:K("\u534f\u4f5c"),itemKey:"2",children:(0,_.jsxs)("div",{children:[(0,_.jsx)(p.z,{setKey:"none",isHeaderVisible:!0,items:t||[],columns:M,compact:!!t,selectionMode:c.Qc.none,layoutMode:m.ch.fixedColumns,enableShimmer:!t,detailsListStyles:{headerWrapper:{".ms-DetailsHeader":{paddingTop:0}},contentWrapper:{lineHeight:"32px"}},listProps:{renderedWindowsAhead:0,renderedWindowsBehind:0}}),(0,_.jsxs)(o.B,{horizontal:!0,reversed:!0,verticalAlign:"center",styles:{root:{marginTop:20}},children:[(0,_.jsx)(h.j,{text:K("\u4e0b\u4e00\u9875"),styles:{root:{marginRight:10}},disabled:Z,onClick:()=>{!Z&&t&&H(k+1)}}),(0,_.jsx)(h.j,{text:K("\u4e0a\u4e00\u9875"),styles:{root:{marginRight:10}},disabled:0===k,onClick:()=>{0!==k&&t&&H(k-1)}}),(0,_.jsx)(x.m,{defaultSelectedKey:"10",placeholder:K("\u9009\u62e9\u9875\u6570"),options:A,styles:R,onChange:(e,i)=>{H(0),(null===i||void 0===i?void 0:i.key)&&T(+i.key)}}),(0,_.jsx)(u.E,{styles:{root:{fontSize:14,fontWeight:600}},children:K("\u9009\u62e9\u9875\u6570")})]})]})})]})]})]})})}}}]);